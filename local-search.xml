<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>CSS-éšç¬”ä¸€</title>
    <link href="/2021/10/18/CSS-%E9%9A%8F%E7%AC%94%E4%B8%80/"/>
    <url>/2021/10/18/CSS-%E9%9A%8F%E7%AC%94%E4%B8%80/</url>
    
    <content type="html"><![CDATA[<hr><h4 id="é—®é¢˜ä¸€"><a href="#é—®é¢˜ä¸€" class="headerlink" title="é—®é¢˜ä¸€"></a>é—®é¢˜ä¸€</h4><p>å…³äº <code>display:hidden</code> è¿™ç±»èƒ½éšè—å…ƒç´ çš„æ–¹æ³•åŒºåˆ«:<br><a href="https://75.team/post/five-ways-to-hide-elements-in-css.html">ç”¨ CSS éšè—é¡µé¢å…ƒç´ çš„ 5 ç§æ–¹æ³•</a></p><h4 id="é—®é¢˜äºŒ"><a href="#é—®é¢˜äºŒ" class="headerlink" title="é—®é¢˜äºŒ"></a>é—®é¢˜äºŒ</h4><p>å…³äº button å’Œ flex æ­é…çš„ç‰¹æ®Šæƒ…å†µ<br><a href="https://www.cnblogs.com/zhuzhenwei918/p/6389567.html">è¿™æ˜¯ä¸€ç¯‡å…³äºçˆ¶å­å…ƒç´ ç»§æ‰¿çš„åšå®¢</a></p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-comment">// css</span><br>  <span class="hljs-selector-class">.BigBox</span> &#123;<br>    <span class="hljs-attribute">display</span>: flex;<br>    <span class="hljs-attribute">flex-direction</span>: column;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">150px</span>;<br>    <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span>;<br>    <span class="hljs-attribute">background</span>: red;<br>  &#125;<br></code></pre></td></tr></table></figure><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-comment">// html</span><br>  &lt;div <span class="hljs-keyword">class</span>=&quot;<span class="hljs-symbol">BigBox</span>&quot;&gt;<br>    &lt;<span class="hljs-symbol">button</span> <span class="hljs-symbol">type</span>=&quot;<span class="hljs-symbol">button</span>&quot;&gt;ç‚¹å‡»æˆ‘&lt;/<span class="hljs-symbol">button</span>&gt;<br>  &lt;/<span class="hljs-symbol">div</span>&gt;<br></code></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š<br><img src="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-10-18-at-10.07.07-AM.5g0xixkr2380.png" alt="flex+btn-1"></p><p>è¿™ä¸ªæŒ‰é’®çš„ width å’Œ BigBox ç›’å­çš„å®½åº¦ä¸€æ ·</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-comment">// html</span><br>  &lt;div <span class="hljs-keyword">class</span>=&quot;<span class="hljs-symbol">BigBox</span>&quot;&gt;<br>    &lt;<span class="hljs-symbol">div</span>&gt;<br>    &lt;<span class="hljs-symbol">button</span> <span class="hljs-symbol">type</span>=&quot;<span class="hljs-symbol">button</span>&quot;&gt;ç‚¹å‡»æˆ‘&lt;/<span class="hljs-symbol">button</span>&gt;<br>    &lt;/<span class="hljs-symbol">div</span>&gt;<br>  &lt;/<span class="hljs-symbol">div</span>&gt;<br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-10-18-at-10.09.32-AM.5ulg5xqki2s0.png" alt="flex+btn-2"><br>æ˜¾ç„¶ button çš„å®½åº¦å˜ä¸ºå†…è”çš„é‚£ç§æ•ˆæœã€‚æ ¹æ®å†…å®¹æ¥æ‰©å¤§è‡ªå·±çš„å®½åº¦</p><p>äº‹å®ä¸Šï¼Œ <code>flex</code> å¯¹äº å†…è”å…ƒç´ éƒ½æœ‰æ‹‰ä¼¸çš„æ•ˆæœ(æ¯•ç«Ÿ <code>flex</code> å«å¼¹æ€§ç›’å­â€¦)ã€‚é‚£å¦‚ä½•è§„é¿ <code>flex</code> çš„å¼¹æ€§æ•ˆæœå‘¢ï¼Ÿ</p><ol><li>å°±æ˜¯ä¸Šè¿°çš„åœ¨å†…è”å…ƒç´ çš„å¤–å±‚å¥—ä¸€ä¸ª <code>div</code>(å—çº§ç›’å­)ã€‚</li><li>å¯ä»¥åœ¨ flex çš„å­å…ƒç´ (å†…è”å…ƒç´ ï¼Œåœ¨ flex é‡Œå†…è”å…ƒç´ ç‰¹æ®Š)è®¾ç½®<code>width</code> å’Œ <code>height</code>(ä¾‹å¦‚æ­¤é¢˜å°±æ˜¯ç»™ button è®¾ç½®é•¿åº¦å’Œå®½åº¦)</li><li>é€šè¿‡ <code>margin:auto</code> è¿™ç§ä¹Ÿå¯ä»¥æ¶ˆé™¤æ‹‰ä¼¸çŠ¶æ€</li></ol><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs dts">  .<span class="hljs-class">BigBox </span>&#123;<br><span class="hljs-symbol">    display:</span> flex;<br>    flex-direction: column;<br><span class="hljs-symbol">    width:</span> <span class="hljs-number">200</span>px;<br><span class="hljs-symbol">    height:</span> <span class="hljs-number">150</span>px;<br><span class="hljs-symbol">    background:</span> red;<br>  &#125;<br>  <span class="hljs-class">button </span>&#123;<br><span class="hljs-symbol">    margin:</span> <span class="hljs-number">0</span> auto;<br>  &#125;<br>  <span class="hljs-params">&lt;/style&gt;</span><br><span class="hljs-params">&lt;/head&gt;</span><br><span class="hljs-params">&lt;body&gt;</span><br>  <span class="hljs-params">&lt;div class=&quot;BigBox&quot;&gt;</span><br>    <span class="hljs-params">&lt;button type=&quot;button&quot;&gt;</span>ç‚¹å‡»æˆ‘<span class="hljs-params">&lt;/button&gt;</span><br>  <span class="hljs-params">&lt;/div&gt;</span><br><span class="hljs-params">&lt;/body&gt;</span><br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-10-18-at-11.06.51-AM.5llejkgdkig0.png" alt="æ•ˆæœå¦‚ä¸‹"></p><ol start="4"><li>è¿˜æœ‰çš„åŠæ³•å°±æ˜¯æ¶ˆé™¤ <code>flex</code> çš„é»˜è®¤æ‹‰ä¼¸æ•ˆæœ</li></ol><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs dts">  .<span class="hljs-class">BigBox </span>&#123;<br><span class="hljs-symbol">    display:</span> flex;<br>    flex-direction: column;<br><span class="hljs-symbol">    width:</span> <span class="hljs-number">200</span>px;<br><span class="hljs-symbol">    height:</span> <span class="hljs-number">150</span>px;<br><span class="hljs-symbol">    background:</span> red;<br>  &#125;<br>  <span class="hljs-class">button </span>&#123;<br>    <span class="hljs-comment">/* align-itemså±æ€§æŸä¸ªå­å…ƒç´ åœ¨äº¤å‰è½´ä¸Šçš„å¯¹é½æ–¹å¼ */</span><br>    <span class="hljs-comment">/* align-items é»˜è®¤å±æ€§ stretch */</span><br>    align-self: center;<br>  &#125;<br>  <span class="hljs-params">&lt;/style&gt;</span><br><span class="hljs-params">&lt;/head&gt;</span><br><span class="hljs-params">&lt;body&gt;</span><br>  <span class="hljs-params">&lt;div class=&quot;BigBox&quot;&gt;</span><br>    <span class="hljs-params">&lt;button type=&quot;button&quot;&gt;</span>ç‚¹å‡»æˆ‘<span class="hljs-params">&lt;/button&gt;</span><br>  <span class="hljs-params">&lt;/div&gt;</span><br><span class="hljs-params">&lt;/body&gt;</span><br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-10-18-at-11.06.51-AM.5llejkgdkig0.png" alt="æ•ˆæœå¦‚ä¸‹"></p><h4 id="é—®é¢˜ä¸‰"><a href="#é—®é¢˜ä¸‰" class="headerlink" title="é—®é¢˜ä¸‰"></a>é—®é¢˜ä¸‰</h4><p>å…³äº radio + button çš„ç©æ³•æ€»ç»“ï¼š<br><a href="https://play.tailwindcss.com/FLrfGpKId1">radio + button å†…å®¹ â€“&gt; ä½¿ç”¨çš„ tailwindcss</a></p><p>å…³é”®ç‚¹ 1ï¼š<code>radio</code> æ ‡ç­¾çš„ä½¿ç”¨</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- å•é€‰æŒ‰é’®è®©ç”¨æˆ·åªé€‰æ‹©æœ‰é™æ•°é‡çš„é€‰é¡¹ä¹‹ä¸€ --&gt;</span><br><span class="hljs-comment">&lt;!-- æ‰€ä»¥ name è¦ä¿æŒä¸€è‡´ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;tab&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;iPhone-13-pro&quot;</span> <span class="hljs-attr">checked</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;tab&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;iPhone-13&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;tab&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;iPhone-se&quot;</span> /&gt;</span><br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Recording-2021-10-18-at-12.06.02-PM.tmocxv39y3k.gif" alt="radioæ•ˆæœå›¾"></p><p>å…³é”®ç‚¹ 2ï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/General_sibling_combinator">é€šç”¨å…„å¼Ÿé€‰æ‹©å™¨çš„ä½¿ç”¨(~)</a> æ­é… <code>:checked</code></p><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="xml">å…ƒç´ 1~å…ƒç´ 2 </span><span class="hljs-template-variable">&#123;</span><br><span class="hljs-template-variable"></span><br><span class="hljs-template-variable">&#125;</span><span class="xml"></span><br><span class="xml">è¡¨ç¤ºé€‰æ‹©å…ƒç´ 1 ä¸‹é¢æ‰€æœ‰çš„å…ƒç´ 2</span><br><span class="xml">ä½†æ˜¯~å±‚çº§é—®é¢˜å§‹ç»ˆæœ‰ç‚¹è¿·~</span><br></code></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs xml">  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"></span><br><span class="css">    <span class="hljs-selector-id">#iPhone-13-pro</span><span class="hljs-selector-pseudo">:checked</span> ~ <span class="hljs-selector-class">.iphone</span> <span class="hljs-selector-tag">div</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">1</span>) &#123;</span><br><span class="css">      <span class="hljs-attribute">color</span>: red;</span><br><span class="css">    &#125;</span><br><span class="css">    <span class="hljs-selector-id">#iPhone-13</span><span class="hljs-selector-pseudo">:checked</span> ~ <span class="hljs-selector-class">.iphone</span> <span class="hljs-selector-tag">div</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">2</span>) &#123;</span><br><span class="css">      <span class="hljs-attribute">color</span>: red;</span><br><span class="css">    &#125;</span><br><span class="css">    <span class="hljs-selector-id">#iPhone-se</span><span class="hljs-selector-pseudo">:checked</span> ~ <span class="hljs-selector-class">.iphone</span> <span class="hljs-selector-tag">div</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">3</span>) &#123;</span><br><span class="css">      <span class="hljs-attribute">color</span>: red;</span><br><span class="css">    &#125;</span><br><span class="css">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- å•é€‰æŒ‰é’®è®©ç”¨æˆ·åªé€‰æ‹©æœ‰é™æ•°é‡çš„é€‰é¡¹ä¹‹ä¸€ --&gt;</span><br>  <span class="hljs-comment">&lt;!-- æ‰€ä»¥ name è¦ä¿æŒä¸€è‡´ --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;tab&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;iPhone-13-pro&quot;</span> <span class="hljs-attr">checked</span> /&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;tab&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;iPhone-13&quot;</span>  /&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;tab&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;iPhone-se&quot;</span> /&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;iphone&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>iphone 13 pro<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>iphone 13<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>iphone se<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Recording-2021-10-18-at-12.22.39-PM.5x922m5shww0.gif" alt="radio æ•ˆæœ 2"></p><p>å…³é”®ç‚¹ä¸‰ï¼š <code>labelæ ‡ç­¾</code>çš„ä½¿ç”¨</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs xml">  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"></span><br><span class="css">    <span class="hljs-comment">/* label[å±æ€§] å¾ˆç‰› */</span></span><br><span class="css">    // æ³¨æ„ ~ å¿…é¡»æ˜¯å·¦å³ä¸¤è¾¹æ˜¯æœ€åå¾—åŒå±‚çº§çš„æ‰è¡Œ</span><br><span class="css">    <span class="hljs-selector-id">#iPhone-13-pro</span><span class="hljs-selector-pseudo">:checked</span> ~ <span class="hljs-selector-class">.iphone</span> <span class="hljs-selector-tag">label</span><span class="hljs-selector-attr">[for=<span class="hljs-string">&quot;iPhone-13-pro&quot;</span>]</span> &#123;</span><br><span class="css">      <span class="hljs-attribute">color</span>: red;</span><br><span class="css">    &#125;</span><br><span class="css">    <span class="hljs-selector-id">#iPhone-13</span><span class="hljs-selector-pseudo">:checked</span> ~ <span class="hljs-selector-class">.iphone</span> <span class="hljs-selector-tag">label</span><span class="hljs-selector-attr">[for=<span class="hljs-string">&quot;iPhone-13&quot;</span>]</span> &#123;</span><br><span class="css">      <span class="hljs-attribute">color</span>: red;</span><br><span class="css">    &#125;</span><br><span class="css">    <span class="hljs-selector-id">#iPhone-se</span><span class="hljs-selector-pseudo">:checked</span> ~ <span class="hljs-selector-class">.iphone</span> <span class="hljs-selector-tag">label</span><span class="hljs-selector-attr">[for=<span class="hljs-string">&quot;iPhone-se&quot;</span>]</span> &#123;</span><br><span class="css">      <span class="hljs-attribute">color</span>: red;</span><br><span class="css">    &#125;</span><br><span class="css">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- å•é€‰æŒ‰é’®è®©ç”¨æˆ·åªé€‰æ‹©æœ‰é™æ•°é‡çš„é€‰é¡¹ä¹‹ä¸€ --&gt;</span><br>  <span class="hljs-comment">&lt;!-- æ‰€ä»¥ name è¦ä¿æŒä¸€è‡´ --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;tab&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;iPhone-13-pro&quot;</span> <span class="hljs-attr">checked</span> /&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;tab&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;iPhone-13&quot;</span>  /&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;tab&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;iPhone-se&quot;</span> /&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;iphone&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;iPhone-13-pro&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>iphone 13 pro<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;iPhone-13&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>iphone 13<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;iPhone-se&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>iphone se<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Recording-2021-10-18-at-12.32.02-PM.27m3tsv2zp34.gif" alt="radio æ•ˆæœ3"></p><p>å…³é”®ç‚¹å››ï¼š<code>éšè—radio</code>åˆ©ç”¨ <code>display:none</code>å±æ€§ã€‚<br>(<a href="#%E9%97%AE%E9%A2%98%E4%B8%80">display:none</a>)</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs routeros">&lt;input <span class="hljs-attribute">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attribute">name</span>=<span class="hljs-string">&quot;tab&quot;</span> <span class="hljs-attribute">id</span>=<span class="hljs-string">&quot;iPhone-13-pro&quot;</span> <span class="hljs-attribute">style</span>=<span class="hljs-string">&quot;display: none;&quot;</span> checked /&gt;<br>&lt;input <span class="hljs-attribute">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attribute">name</span>=<span class="hljs-string">&quot;tab&quot;</span> <span class="hljs-attribute">id</span>=<span class="hljs-string">&quot;iPhone-13&quot;</span>  <span class="hljs-attribute">style</span>=<span class="hljs-string">&quot;display: none;&quot;</span> /&gt;<br>&lt;input <span class="hljs-attribute">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attribute">name</span>=<span class="hljs-string">&quot;tab&quot;</span> <span class="hljs-attribute">id</span>=<span class="hljs-string">&quot;iPhone-se&quot;</span> <span class="hljs-attribute">style</span>=<span class="hljs-string">&quot;display: none;&quot;</span>/&gt;<br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Recording-2021-10-18-at-12.37.56-PM.4j6vcoxrlnu0.gif" alt="æ•ˆæœå››"></p>]]></content>
    
    
    
    <tags>
      
      <tag>CSS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸€ç¯‡æ–‡ç« æŒæ¡æ€§èƒ½ä¼˜åŒ–å¤§æ³•ä¹‹é˜²æŠ–å’ŒèŠ‚æµ</title>
    <link href="/2021/10/13/%E4%B8%80%E7%AF%87%E6%96%87%E7%AB%A0%E6%8E%8C%E6%8F%A1%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%A4%A7%E6%B3%95%E4%B9%8B%E9%98%B2%E6%8A%96%E5%92%8C%E8%8A%82%E6%B5%81/"/>
    <url>/2021/10/13/%E4%B8%80%E7%AF%87%E6%96%87%E7%AB%A0%E6%8E%8C%E6%8F%A1%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%A4%A7%E6%B3%95%E4%B9%8B%E9%98%B2%E6%8A%96%E5%92%8C%E8%8A%82%E6%B5%81/</url>
    
    <content type="html"><![CDATA[<p>ç›¸ä¿¡ä¸€æåˆ°å‰ç«¯æ€§èƒ½ä¼˜åŒ–ï¼Œå¤§å®¶è„‘å­é‡Œå°±ä¼šä¸€ä¸‹æ˜ å°„å‡ºè®¸å¤šå†…å®¹ã€‚ä¾‹å¦‚ï¼šæ‡’åŠ è½½ã€CDN ç¼“å­˜ã€DOM ä¼˜åŒ–ã€å›¾ç‰‡ä¼˜åŒ–ã€Webpack çš„ä¼˜åŒ–é…ç½®â€¦ä½†ä»Šå¤©æˆ‘æƒ³è°ˆè®ºçš„ä¸€ä¸ªæ€§èƒ½ä¼˜åŒ–ç‚¹æ˜¯<strong>é˜²æŠ–</strong>å’Œ<strong>èŠ‚æµ</strong>å‡½æ•°ï¼Œå› ä¸ºå®ƒä¿©å¤Ÿâ€œå°å·§â€ï¼Œä½†å‘æŒ¥çš„ä½œç”¨å´ä¸å®¹å°è§‘ï¼</p><p>åœ¨å®é™…å†™é¡¹ç›®çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šå‘ç°ï¼Œä¸€äº›äº‹ä»¶æ€»æ˜¯ä¼šè¢«é¢‘ç¹è§¦å‘ã€‚ä¾‹å¦‚é¼ æ ‡äº‹ä»¶ã€é”®ç›˜äº‹ä»¶ã€scroll äº‹ä»¶â€¦</p><p>ä¸¾ä¸ªå°ä¾‹å­ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">  <span class="hljs-keyword">let</span> input = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&#x27;[name=&quot;username&quot;]&#x27;</span>)</span><br><span class="javascript">  input.addEventListener(<span class="hljs-string">&#x27;keyup&#x27;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.value)</span><br><span class="javascript">  &#125;)</span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3e1b22b590194ef58b3cf9ce2853aaa0~tplv-k3u1fbpfcp-watermark.image" alt="debounce1.gif"></p><p>ç”±ä¸Šè¿°éå¸¸ç®€çŸ­çš„ä»£ç åŠæ•ˆæœå›¾ï¼Œæˆ‘ä»¬å°±å¯ä»¥å‘ç°ï¼Œé¢‘ç¹çš„è§¦å‘å›è°ƒæ˜¯çœŸçš„è¦å‘½ ğŸ˜­ğŸ˜­ğŸ˜­,å®ƒä¸ä»…ä¼šé€ æˆå¤§é‡çš„è®¡ç®—å¼•å‘é¡µé¢å¡é¡¿è¿˜ä¼šé€ æˆé¢‘ç¹çš„ç½‘ç»œè¯·æ±‚å¯¼è‡´ä¸å¿…è¦çš„æµé‡æµªè´¹ä»¥åŠæä½çš„ç”¨æˆ·ä½“éªŒâ€¦ä¸ºäº†è§„é¿è¿™ç±»æƒ…å†µï¼Œæˆ‘ä»¬æ€¥éœ€æ§åˆ¶å›è°ƒçš„è§¦å‘é¢‘ç‡ï¼Œè®©å›è°ƒå‡½æ•°è¢«è§¦å‘çš„æ¬¡æ•°æ°åˆ°å¥½å¤„ï¼å› æ­¤ï¼Œé˜²æŠ–å‡½æ•°å’ŒèŠ‚æµå‡½æ•°é—ªäº®ç™»åœº âœ¨</p><hr><h3 id="é˜²æŠ–å‡½æ•°-debounce"><a href="#é˜²æŠ–å‡½æ•°-debounce" class="headerlink" title="é˜²æŠ–å‡½æ•°(debounce)"></a>é˜²æŠ–å‡½æ•°(debounce)</h3><h4 id="é˜²æŠ–å‡½æ•°æ ¸å¿ƒé€»è¾‘"><a href="#é˜²æŠ–å‡½æ•°æ ¸å¿ƒé€»è¾‘" class="headerlink" title="é˜²æŠ–å‡½æ•°æ ¸å¿ƒé€»è¾‘"></a>é˜²æŠ–å‡½æ•°æ ¸å¿ƒé€»è¾‘</h4><p>äººä¸ºè®¾å®šä¸€æ®µ<strong>å»¶è¿Ÿæ—¶é—´</strong>ï¼Œç”¨äºå»¶è¿Ÿæ‰§è¡Œ<strong>å›è°ƒå‡½æ•° A</strong>ã€‚å¦‚æœåœ¨å»¶è¿Ÿæ—¶é—´å†…ï¼Œç”¨æˆ·åå¤è§¦å‘è¿™ä¸ª<strong>å›è°ƒå‡½æ•° A</strong>ï¼Œåˆ™åªä¼šé‡å¤åˆ·æ–°å»¶è¿Ÿæ—¶é—´ï¼Œè€Œé¢‘ç¹è¢«è§¦å‘çš„<strong>å›è°ƒå‡½æ•° A</strong>ä¸­ï¼Œ<strong>ä»…æœ€åä¸€æ¬¡è§¦å‘çš„å›è°ƒå‡½æ•° A æ˜¯èƒ½è¢«æ‰§è¡Œçš„</strong>ã€‚</p><h4 id="å†™é˜²æŠ–å‡½æ•°çš„äº”å¤§è¦ç´ "><a href="#å†™é˜²æŠ–å‡½æ•°çš„äº”å¤§è¦ç´ " class="headerlink" title="å†™é˜²æŠ–å‡½æ•°çš„äº”å¤§è¦ç´ "></a>å†™é˜²æŠ–å‡½æ•°çš„äº”å¤§è¦ç´ </h4><p>å¥½äº†ï¼Œä¸Šæ–‡å·²ç»è®²è§£äº†é˜²æŠ–å‡½æ•°çš„æ ¸å¿ƒé€»è¾‘ï¼Œç°åœ¨å¤§å®¶æ¥ç†Ÿæ‚‰ä¸€ä¸‹å†™é˜²æŠ–å‡½æ•°çš„äº”å¤§è¦ç´ ï¼Œä»è€Œæ–¹ä¾¿ç†è§£ä¸‹æ–‡çœŸæ­£çš„é˜²æŠ–å‡½æ•° ğŸ’ªğŸ»</p><ul><li><ol><li>éœ€è¦ä½¿ç”¨é—­åŒ…</li></ol></li><li><ol start="2"><li>éœ€è¦ setTimeoutã€clearTimeout çš„çµæ´»è¿ç”¨</li></ol></li><li><ol start="3"><li>é˜²æŠ–å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºéœ€è¦è¢«è§¦å‘çš„å›è°ƒå‡½æ•°</li></ol></li><li><ol start="4"><li>é˜²æŠ–å‡½æ•°ä¼šè¿”å›ä¸€ä¸ªå‡½æ•°</li></ol></li><li><ol start="5"><li>å›è°ƒå‡½æ•°çš„ this æŒ‡å‘éœ€è¦å’Œé˜²æŠ–å‡½æ•°è¿”å›çš„è¿™ä¸ªå‡½æ•° this æŒ‡å‘ä¿æŒä¸€è‡´</li></ol></li></ul><h4 id="æ‰‹å†™é˜²æŠ–å‡½æ•°"><a href="#æ‰‹å†™é˜²æŠ–å‡½æ•°" class="headerlink" title="æ‰‹å†™é˜²æŠ–å‡½æ•°"></a>æ‰‹å†™é˜²æŠ–å‡½æ•°</h4><p>è¯·å¤§å®¶åœ¨çœ‹ä»£ç çš„åŒæ—¶æ³¨æ„æˆ‘çš„æ³¨é‡Šï¼ï¼ï¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// fnA æ˜¯è¦è¢«è§¦å‘çš„å›è°ƒå‡½æ•°   delayæ˜¯å»¶è¿Ÿæ—¶é—´</span><br><span class="hljs-keyword">let</span> debounce = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fnA, delay</span>) </span>&#123;<br>    <span class="hljs-comment">// timeræ˜¯å®šæ—¶å™¨ï¼Œå¦‚æœåœ¨å»¶è¿Ÿæ—¶é—´å†…é¢‘ç¹è§¦å‘å›è°ƒå‡½æ•°Aï¼Œåˆ™ä¼šé‡å¤åˆ·æ–°å»¶è¿Ÿæ—¶é—´timer</span><br>    <span class="hljs-comment">// æ³¨æ„ï¼šè¿™é‡Œä¼šè¿ç”¨åˆ°é—­åŒ…ï¼ï¼(è¯·ä¸äº†è§£é—­åŒ…åŸºç¡€çŸ¥è¯†çš„æœ‹å‹å…ˆå»çœ‹ä¸€ä¸‹é—­åŒ…åŸºç¡€çŸ¥è¯†åå†ç»§ç»­çœ‹è¿™ç¯‡åšå®¢)</span><br>    <span class="hljs-keyword">let</span> timer = <span class="hljs-literal">null</span>;<br><br>    <span class="hljs-comment">// é˜²æŠ–å‡½æ•°ä¼šè¿”å›ä¸€ä¸ªå‡½æ•°</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>        <span class="hljs-comment">// é”å®šå½“å‰thisçš„æŒ‡å‘ï¼Œæ–¹ä¾¿æ§åˆ¶fnAçš„thisæŒ‡å‘å’Œè¿™ä¸ªè¿”å›å‡½æ•°çš„thisæŒ‡å‘ä¿æŒä¸€è‡´</span><br>        <span class="hljs-keyword">let</span> context = <span class="hljs-built_in">this</span>;<br>        <span class="hljs-comment">// ä¿ç•™è°ƒç”¨é˜²æŠ–å‡½æ•°æ—¶ä¼ å…¥çš„å‚æ•°</span><br>        <span class="hljs-keyword">let</span> args = <span class="hljs-built_in">arguments</span>;<br><br>        <span class="hljs-comment">// å¦‚æœåœ¨å»¶è¿Ÿæ—¶é—´å†…é¢‘ç¹è§¦å‘å›è°ƒå‡½æ•°Aï¼Œåˆ™é‡å¤åˆ·æ–°å»¶è¿Ÿæ—¶é—´timer</span><br>        <span class="hljs-keyword">if</span> (timer) &#123;<br>            <span class="hljs-built_in">clearTimeout</span>(timer);<br>        &#125;<br>        timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>            <span class="hljs-comment">// å°†fnçš„thisæŒ‡å‘å’Œé˜²æŠ–å‡½æ•°è¿”å›çš„è¿™ä¸ªå‡½æ•°çš„thisæŒ‡å‘ä¿æŒä¸€è‡´</span><br>            fnA.call(context, ...arguments)<br>        &#125;, delay)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å¥½å•¦ï¼Œæ‰‹å†™ä»£ç å®Œæˆã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¯•ä¸€è¯•é˜²æŠ–å‡½æ•°</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">  <span class="hljs-keyword">let</span> input = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&#x27;[name=&quot;username&quot;]&#x27;</span>)</span><br><span class="javascript">  <span class="hljs-comment">// æ³¨æ„ï¼šaddEventListenerçš„thisæ€»æ˜¯å½“å‰æ­£åœ¨å¤„ç†äº‹ä»¶çš„é‚£ä¸ªDOMå¯¹è±¡</span></span><br><span class="javascript">  input.addEventListener(<span class="hljs-string">&#x27;keyup&#x27;</span>, debounce(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">      <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.value)</span><br><span class="javascript">  &#125;, <span class="hljs-number">2000</span>))</span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/71fab3e4f6044064b640a1fa5964349d~tplv-k3u1fbpfcp-watermark.image" alt="debounce2.gif"></p><p>å¿«é€Ÿè¾“å…¥ 12345677 åï¼Œéœ€å†ç­‰å¾… 2s æ‰ä¼šæ‰§è¡ŒçœŸæ­£çš„å›è°ƒå‡½æ•°ã€‚è¿™å°±æ˜¯é˜²æŠ–å‡½æ•°å‘æŒ¥çš„çœŸæ­£ä½œç”¨ï¼æ¶ˆé™¤äº†è¿‡å¤šè€Œä¸å¿…è¦çš„å›è°ƒå‡½æ•°ã€‚</p><p><strong>é™„èµ ä¸€ä¸ªåŒ–ç®€ç‰ˆçš„<code>debounce</code></strong></p><p>è¿™ä¸ªç‰ˆæœ¬çš„<code>debounce</code>ä½¿ç”¨äº†ç®­å¤´å‡½æ•°ï¼ŒåŸç†å’Œä¸Šé¢çš„<code>debounce</code>æ˜¯ä¸€æ ·çš„ã€‚(å…³äºæ­¤é¢˜çš„ç®­å¤´å‡½æ•°ä½¿ç”¨ï¼Œä¹Ÿè®¸æœ¬ç¯‡åšå®¢çš„<strong>å½©è›‹ 2</strong>èƒ½ç»™ä½ ä¸€ä¸ªæç¤º)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> debounce = <span class="hljs-function">(<span class="hljs-params">fn, delay</span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">let</span> timer = <span class="hljs-literal">null</span>;<br>  <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">...<span class="hljs-built_in">arguments</span></span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;arguments&#x27;</span>, <span class="hljs-built_in">arguments</span>)<br>    <span class="hljs-keyword">if</span> (timer) &#123;<br>      <span class="hljs-built_in">clearTimeout</span>(timer);<br>    &#125;<br>    <span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;æµ‹è¯•&#x27;</span><br>    timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      fn.call(<span class="hljs-built_in">this</span>, ...arguments)<br>    &#125;, delay)<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="èŠ‚æµå‡½æ•°-throttle"><a href="#èŠ‚æµå‡½æ•°-throttle" class="headerlink" title="èŠ‚æµå‡½æ•°(throttle)"></a>èŠ‚æµå‡½æ•°(throttle)</h3><h4 id="èŠ‚æµå‡½æ•°çš„æ ¸å¿ƒé€»è¾‘"><a href="#èŠ‚æµå‡½æ•°çš„æ ¸å¿ƒé€»è¾‘" class="headerlink" title="èŠ‚æµå‡½æ•°çš„æ ¸å¿ƒé€»è¾‘"></a>èŠ‚æµå‡½æ•°çš„æ ¸å¿ƒé€»è¾‘</h4><p>äººä¸ºè®¾å®šä¸€æ®µé—´éš”æ—¶é—´ï¼Œ<strong>å½“ç¬¬ä¸€æ¬¡è§¦å‘å›è°ƒå‡½æ•° A æ—¶ï¼Œå›è°ƒå‡½æ•° A è¢«ç«‹å³æ‰§è¡Œå¹¶ä¸”å¼€å§‹è®¡æ—¶</strong>ã€‚åœ¨è¿™æ®µé—´éš”æ—¶é—´å†…ï¼Œæ— è®ºç”¨æˆ·è§¦å‘å¤šå°‘æ¬¡<strong>å›è°ƒå‡½æ•° A</strong>ï¼Œéƒ½ä¸ä¼šè¢«æ‰§è¡Œã€‚</p><h4 id="å†™èŠ‚æµå‡½æ•°çš„äº”å¤§è¦ç´ "><a href="#å†™èŠ‚æµå‡½æ•°çš„äº”å¤§è¦ç´ " class="headerlink" title="å†™èŠ‚æµå‡½æ•°çš„äº”å¤§è¦ç´ "></a>å†™èŠ‚æµå‡½æ•°çš„äº”å¤§è¦ç´ </h4><p>äº‹å®ä¸Šï¼ŒèŠ‚æµçš„äº”å¤§è¦ç´ å’Œé˜²æŠ–éå¸¸ç›¸ä¼¼(åªæœ‰ç¬¬äºŒç‚¹æœ‰åŒºåˆ«)ï¼Œæ‰€ä»¥å½“çœ‹æ‡‚é˜²æŠ–å‡½æ•°çš„ä»£ç åï¼Œåœ¨æ‰‹å†™èŠ‚æµä»£ç æ—¶å°±æ˜¾å¾—æ¯”è¾ƒè½»æ¾äº†ï¼</p><ul><li><ol><li>éœ€è¦ä½¿ç”¨é—­åŒ…</li></ol></li><li><ol start="2"><li>ç»“åˆæ—¶é—´æˆ³æ¥åˆ¤æ–­æ—¶é—´é—´éš”</li></ol></li><li><ol start="3"><li>èŠ‚æµå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºéœ€è¦è¢«è§¦å‘çš„å›è°ƒå‡½æ•°</li></ol></li><li><ol start="4"><li>èŠ‚æµå‡½æ•°ä¼šè¿”å›ä¸€ä¸ªå‡½æ•°</li></ol></li><li><ol start="5"><li>å›è°ƒå‡½æ•°çš„ this æŒ‡å‘éœ€è¦å’ŒèŠ‚æµå‡½æ•°è¿”å›çš„è¿™ä¸ªå‡½æ•° this æŒ‡å‘ä¿æŒä¸€è‡´</li></ol></li></ul><h4 id="æ‰‹å†™èŠ‚æµå‡½æ•°"><a href="#æ‰‹å†™èŠ‚æµå‡½æ•°" class="headerlink" title="æ‰‹å†™èŠ‚æµå‡½æ•°"></a>æ‰‹å†™èŠ‚æµå‡½æ•°</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript"> <span class="hljs-comment">// fnA è¡¨ç¤ºå›è°ƒå‡½æ•°Aï¼Œ intervalè¡¨ç¤ºé—´éš”æ—¶é—´</span><br> <span class="hljs-keyword">let</span> throttle = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fnA, interval</span>) </span>&#123;<br>  <span class="hljs-comment">// last è¿ç”¨é—­åŒ…çŸ¥è¯†</span><br>  <span class="hljs-comment">// last ä¸ºä¸Šä¸€æ¬¡è§¦å‘å›è°ƒçš„æ—¶é—´, åˆå§‹åŒ–ä¸º0 æ–¹ä¾¿ç¬¬ä¸€æ¬¡è§¦å‘äº‹ä»¶å°±èƒ½è¿è¡Œå›è°ƒå‡½æ•°</span><br>  <span class="hljs-keyword">let</span> last = <span class="hljs-number">0</span>;<br>  <span class="hljs-comment">// è¿”å›ä¸€ä¸ªå‡½æ•°</span><br>  <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-comment">// è®°å½•å½“å‰çš„æ—¶é—´æˆ³</span><br>    <span class="hljs-keyword">let</span> now = <span class="hljs-built_in">Date</span>.now();<br>    <span class="hljs-comment">// ä¿ç•™è°ƒç”¨èŠ‚æµå‡½æ•°æ—¶ä¼ å…¥çš„å‚æ•°</span><br>    <span class="hljs-keyword">let</span> args = <span class="hljs-built_in">arguments</span>;<br>    <span class="hljs-comment">// å›è°ƒå‡½æ•°çš„thisæŒ‡å‘éœ€è¦å’ŒèŠ‚æµå‡½æ•°è¿”å›çš„è¿™ä¸ªå‡½æ•°thisæŒ‡å‘ä¿æŒä¸€è‡´</span><br>    <span class="hljs-keyword">let</span> context = <span class="hljs-built_in">this</span>;<br>    <span class="hljs-comment">// é€šè¿‡æ—¶é—´å·®æ¥åˆ¤æ–­å†ä¸€æ¬¡è§¦å‘çš„å›è°ƒå‡½æ•°æ˜¯å¦è¿˜åœ¨è¿™æ®µæ—¶é—´é—´éš”å†…</span><br>    <span class="hljs-keyword">if</span> (now - last &gt;= interval) &#123;<br>      last = now;<br>      fnA.call(context, ...args)<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä»£ç æ•ˆæœï¼š</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dd4d3d0f930b4882b09c4a52ff1d071c~tplv-k3u1fbpfcp-watermark.image" alt="throttle1.gif"></p><p>äº‹å®ä¸Šï¼Œé˜²æŠ–å’ŒèŠ‚æµå‡½æ•°çš„ç›¸ä¼¼åº¦æ˜¯éå¸¸é«˜çš„, ç›¸ä¿¡å¤§å®¶åœ¨ç†è§£å®Œæˆ‘æ‰‹å†™é˜²æŠ–å’ŒèŠ‚æµå‡½æ•°æ—¶æ‰€æåŠçš„ 5 å¤§è¦ç´ ä»¥åŠæˆ‘çš„ä»£ç æ³¨é‡Šåï¼Œèƒ½å¤Ÿå¯¹é˜²æŠ–å’ŒèŠ‚æµå‡½æ•°æ„Ÿåˆ°æ›´åŠ äº²åˆ‡ï¼å‰©ä¸‹çš„å°±æ˜¯é ä½ è‡ªå·±æ‰‹å†™ä¸€ä¸‹ä»£ç ï¼Œè®©ä»£ç çœŸæ­£å˜æˆä½ è‡ªå·±æ‹¥æœ‰çš„ã€‚</p><p>æœ¬ç¯‡æ–‡ç« å¯èƒ½ä¼šæœ‰ä½œè€…ç¬”è¯¯æˆ–ç†è§£é”™è¯¯çš„åœ°æ–¹ï¼Œè¯·å¤§å®¶å¤šå¤šæŒ‡å‡ºï¼ å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œè¿˜è¯·ç»™è¿™ç¯‡æ–‡ç« ç‚¹ä¸€ä¸ªèµå§ ğŸ’•</p><hr><p>ä¸‹é¢çš„ä¸‰ä¸ªå½©è›‹å®åˆ™æ˜¯æˆ‘åœ¨å†™è¿™ç¯‡åšå®¢æ—¶çªç„¶æƒ³åˆ°çš„ä¸‰ä¸ªå…³äº this å’Œä½œç”¨åŸŸæ¯”è¾ƒæœ‰æ„æ€çš„ç‚¹ï¼Œå¦‚æœå¤§å®¶æœ‰å…´è¶£ï¼Œä¸å¦¨çœ‹ä¸€çœ‹ï¼</p><h5 id="å½©è›‹-1"><a href="#å½©è›‹-1" class="headerlink" title="å½©è›‹ 1"></a>å½©è›‹ 1</h5><p>åœ¨ä¸Šè¿°é˜²æŠ–å‡½æ•°ä¸­ï¼Œæˆ‘ä½¿ç”¨åˆ°äº† setTimeoutã€‚è€Œäº‹å®ä¸Šå¯¹äº<code>setTimeout</code>çš„<code>this</code>æŒ‡å‘ï¼Œå…¶å®ä¹Ÿæ˜¯æœ‰ä¸€äº›å­¦é—®åœ¨é‡Œé¢çš„ã€‚<br>ç»™å¤§å®¶é€ç¦åˆ©ï¼åœ¨ä¸‹è¿°ä¸‰ç§æƒ…å†µï¼Œthis ä¼š 100%æŒ‡å‘ window</p><ul><li>ç«‹å³æ‰§è¡Œå‡½æ•°(IIFE)</li><li>setTimeout ä¸­ä¼ å…¥çš„å‡½æ•°(éç®­å¤´å‡½æ•°)</li><li>setInterval ä¸­ä¼ å…¥çš„å‡½æ•°(éç®­å¤´å‡½æ•°)</li></ul><h5 id="å½©è›‹-2"><a href="#å½©è›‹-2" class="headerlink" title="å½©è›‹ 2"></a>å½©è›‹ 2</h5><p>å¯¹äº setTimeout çš„ç®­å¤´å‡½æ•°çš„æ€è€ƒ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> name = <span class="hljs-string">&#x27;å¸…å¾—ä¹±ä¸ƒå…«ç³Ÿ&#x27;</span><br><br><span class="hljs-keyword">var</span> me = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;å¸…å¾—æ­ªç“œè£‚æ£&#x27;</span>,<br>  <span class="hljs-attr">hello1</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-comment">// ç®­å¤´å‡½æ•°ä¸­çš„ thisï¼Œå’Œä½ å¦‚ä½•è°ƒç”¨å®ƒæ— å…³ï¼Œç”±ä½ ä¹¦å†™å®ƒçš„ä½ç½®å†³å®š</span><br>  <span class="hljs-comment">// è¿™é‡Œçš„thisçš„ä½œç”¨åŸŸæ˜¯hello1å‡½æ•°ä½œç”¨åŸŸã€‚æ‰€ä»¥ï¼Œè°è°ƒç”¨hello1ï¼Œè¿™é‡Œçš„thiså°±æŒ‡å‘è°</span><br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;        <span class="hljs-comment">// æŒ‡å‘me</span><br>      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`ä½ å¥½ï¼Œæˆ‘æ˜¯<span class="hljs-subst">$&#123;<span class="hljs-built_in">this</span>.name&#125;</span>`</span>)<br>    &#125;)<br>  &#125;,<br>  <span class="hljs-attr">hello2</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;   <span class="hljs-comment">// æŒ‡å‘window(å½©è›‹1é‡Œæœ‰æåˆ°)</span><br>      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`ä½ å¥½ï¼Œæˆ‘æ˜¯<span class="hljs-subst">$&#123;<span class="hljs-built_in">this</span>.name&#125;</span>`</span>)<br>    &#125;)<br>  &#125;<br>&#125;<br><br>me.hello1();   <span class="hljs-comment">// ä½ å¥½ï¼Œæˆ‘æ˜¯å¸…å¾—æ­ªç“œè£‚æ£</span><br>me.hello2();   <span class="hljs-comment">// ä½ å¥½ï¼Œæˆ‘æ˜¯å¸…å¾—ä¹±ä¸ƒå…«ç³Ÿ</span><br><br></code></pre></td></tr></table></figure><h5 id="å½©è›‹-3"><a href="#å½©è›‹-3" class="headerlink" title="å½©è›‹ 3"></a>å½©è›‹ 3</h5><p>å…³äºå›è°ƒå‡½æ•°çš„å‚æ•°é—®é¢˜</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript">let func = <span class="hljs-function"><span class="hljs-params">(fn)</span> =&gt;</span> &#123;<br>    fn();<br>&#125;<br>let callback = <span class="hljs-function"><span class="hljs-params">(param)</span> =&gt;</span> &#123;<br>    <span class="hljs-built_in">console</span>.log(param)<br>&#125;<br>let fn = function() &#123;<br>    let param = <span class="hljs-number">123</span>;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;<br>        <span class="hljs-built_in">console</span>.log(param);   <span class="hljs-regexp">//</span> <span class="hljs-number">1</span>såæ‰“å°ï¼š <span class="hljs-number">123</span><br>    &#125;, <span class="hljs-number">1000</span>)<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function"><span class="hljs-params">(param)</span> =&gt;</span> &#123;<br>        <span class="hljs-built_in">console</span>.log(param);   <span class="hljs-regexp">//</span> <span class="hljs-number">1</span>såæ‰“å°ï¼š <span class="hljs-literal">undefined</span><br>    &#125;, <span class="hljs-number">3000</span>)<br><br>    func(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> callback(param))      <span class="hljs-regexp">//</span> <span class="hljs-number">123</span><br>    func(<span class="hljs-function"><span class="hljs-params">(param)</span> =&gt;</span> callback(param)) <span class="hljs-regexp">//</span> <span class="hljs-literal">undefined</span><br>&#125;<br>fn();<br></code></pre></td></tr></table></figure><p>ä¸ºä½•æˆ‘ç»™å›è°ƒçš„å‚æ•°åŠ ä¸Š<code>param</code>ï¼Œåˆ™æ‰“å°å˜ä¸º<code>undefined</code>ï¼Ÿ è¿™å…¶å®æ˜¯å‡½æ•°ä½œç”¨åŸŸåœ¨ä½œæ€ªï¼å¦‚æœåœ¨å›è°ƒçš„å‚æ•°ä¸ŠåŠ <code>param</code>ï¼Œåˆ™è¯¥å›è°ƒå†…çš„æ‰€æœ‰<code>param</code>(åŒ…æ‹¬å›è°ƒçš„å‚æ•°<code>param</code>)éƒ½æ˜¯å±äºè¯¥å›è°ƒå‡½æ•°çš„ä½œç”¨åŸŸå†…ã€‚è€Œå¾ˆæ˜æ˜¾ï¼Œå›è°ƒé‡Œçš„<code>param</code>æ²¡æœ‰èµ‹ä¸Šä»»ä½•å€¼ï¼Œæ‰€ä»¥æ˜¯<code>undefined</code>ã€‚å¦‚æœå‚æ•°æ²¡æœ‰ paramï¼Œåˆ™å›è°ƒå†…çš„<code>param</code>å°±ä¼šå‘ä¸Šä¸€å±‚ä½œç”¨åŸŸå†…å¯»æ‰¾<code>param</code>ï¼Œæ°å¥½ fn é‡Œæœ‰å®šä¹‰<code>param</code> ä¸”å€¼ä¸º 123ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>JavaScript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Emotionçš„å®‰è£…å’ŒåŸºæœ¬ä½¿ç”¨</title>
    <link href="/2021/10/10/Emotion%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/"/>
    <url>/2021/10/10/Emotion%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<p>æ›´ç»†èŠ‚çš„æ“ä½œåº”è¯¥çœ‹å®˜ç½‘æŒ‡å¯¼ï¼š<br><a href="https://emotion.sh/docs/introduction">Emotion å®˜ç½‘</a></p><h5 id="å®‰è£…ï¼š"><a href="#å®‰è£…ï¼š" class="headerlink" title="å®‰è£…ï¼š"></a>å®‰è£…ï¼š</h5><p>é’ˆå¯¹ react æ¡†æ¶</p><blockquote><p>npm i @emotion/react<br>npm i @emotion/styled @emotion/react</p></blockquote>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>CSS-in-JS</title>
    <link href="/2021/10/10/CSS-in-JS/"/>
    <url>/2021/10/10/CSS-in-JS/</url>
    
    <content type="html"><![CDATA[<blockquote><p>æ³¨æ„ï¼šcss æ¨¡å—ä¸ webpack çš„ç›¸å…³å†…å®¹æœ‰å¾…è¡¥å……ï¼</p></blockquote><p><code>CSS-in-JS</code> ä¸æ˜¯æŒ‡æŸä¸€ä¸ªå…·ä½“çš„åº“ï¼Œæ˜¯æŒ‡<strong>ç»„ç»‡ CSS ä»£ç çš„ä¸€ç§æ–¹å¼</strong>ï¼Œä»£è¡¨åº“æœ‰ <a href="https://styled-components.com/">styled-component</a> å’Œ <a href="https://emotion.sh/docs/introduction">emotion</a>ã€‚</p><h4 id="ä¼ ç»Ÿ-CSS-çš„ç¼ºé™·"><a href="#ä¼ ç»Ÿ-CSS-çš„ç¼ºé™·" class="headerlink" title="ä¼ ç»Ÿ CSS çš„ç¼ºé™·"></a>ä¼ ç»Ÿ CSS çš„ç¼ºé™·</h4><ol><li><p>ç¼ºä¹æ¨¡å—ç»„ç»‡<br>åœ¨ä¼ ç»Ÿçš„ JS å’Œ CSS ä¸­å…¶å®éƒ½æ²¡æœ‰<strong>æ¨¡å—</strong>çš„æ¦‚å¿µï¼Œåæ¥åœ¨ JS ç•Œé™†ç»­æœ‰äº† CommonJS å’Œ ECMAScript Module, ä»¥åŠ<code>webpack</code>ä¸ºä¸»çš„æ¨¡å—æ‰“åŒ…å·¥å…·æ¸æ¸çš„æˆç†Ÿã€‚è€Œ<code>CSS-in-JS</code>å°±å¯ä»¥ç”¨<strong>æ¨¡å—åŒ–çš„æ–¹å¼</strong>ç»„ç»‡ CSSï¼Œ<strong>ä¾æ‰˜ä¸ JS çš„æ¨¡å—åŒ–æ–¹æ¡ˆ</strong>ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> styled <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@emotion/styled&#x27;</span>;<br><br><span class="hljs-comment">// styled å…¶å®å°±æ˜¯ä¸€ä¸ªæ¨¡å—</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Button = styled.button<span class="hljs-string">`</span><br><span class="hljs-string"> color: turquoise;</span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure></li><li><p>ç¼ºä¹ä½œç”¨åŸŸ<br>ä¼ ç»Ÿçš„ <code>CSS</code> åªæœ‰ä¸€ä¸ª<code>å…¨å±€ä½œç”¨åŸŸ</code>ï¼Œæ¯”å¦‚è¯´ä¸€ä¸ª class å¯ä»¥åŒ¹é…å…¨å±€çš„ä»»æ„å…ƒç´ ã€‚éšç€é¡¹ç›®æˆé•¿ï¼ŒCSS ä¼šå˜å¾—è¶Šæ¥è¶Šéš¾ä»¥ç»„ç»‡ï¼Œæœ€ç»ˆå¯¼è‡´å¤±æ§ã€‚<code>CSS-in-JS</code> å¯ä»¥é€šè¿‡ç”Ÿæˆç‹¬ç‰¹çš„é€‰æ‹©ç¬¦ï¼Œæ¥å®ç°ä½œç”¨åŸŸçš„æ•ˆæœã€‚</p></li></ol><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-selector-class">.css-1c4ktv6</span> &gt;* &#123;   <span class="hljs-comment">// 1c4ktv6æ˜¯å“ˆå¸Œ</span><br>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">0</span> <span class="hljs-meta">!important</span>;<br>  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">0</span> <span class="hljs-meta">!important</span>;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> css = <span class="hljs-function"><span class="hljs-params">styleBlock</span> =&gt;</span> &#123;<br>  <span class="hljs-keyword">const</span> className = someHash(styleBlock);<br>  <span class="hljs-keyword">const</span> styleEl = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">&#x27;style&#x27;</span>);<br>  styleEl.textContent = <span class="hljs-string">`</span><br><span class="hljs-string">    .<span class="hljs-subst">$&#123;className&#125;</span> &#123;</span><br><span class="hljs-string">      <span class="hljs-subst">$&#123;styleBlock&#125;</span></span><br><span class="hljs-string">    &#125;</span><br><span class="hljs-string">  `</span>;<br>  <span class="hljs-built_in">document</span>.head.appendChild(styleEl);<br>  <span class="hljs-keyword">return</span> className;<br>&#125;<br><span class="hljs-keyword">const</span> className = css(<span class="hljs-string">`</span><br><span class="hljs-string">  color: red;</span><br><span class="hljs-string">  padding: 20px;</span><br><span class="hljs-string">`</span>);<br></code></pre></td></tr></table></figure><ol start="3"><li>éšå¼ä¾èµ–ï¼Œè®©æ ·å¼éš¾ä»¥è¿½è¸ª</li></ol><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-selector-class">.target</span> <span class="hljs-selector-class">.name</span> <span class="hljs-selector-tag">h1</span> &#123;<br>  <span class="hljs-attribute">color</span>: red;<br>&#125;<br><br><span class="hljs-selector-tag">body</span> <span class="hljs-selector-id">#container</span> <span class="hljs-selector-tag">h1</span> &#123;<br>  <span class="hljs-attribute">color</span>: green<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!doctype <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&#x27;container&#x27;</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&#x27;target&#x27;</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&#x27;name&#x27;</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æˆ‘æ˜¯å•¥é¢œè‰²ï¼Ÿ<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>    // è¿™ä¼šè®©äººæ‡µé€¼çš„...<br>     <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>é‚£ä¹ˆè¿™ä¸ª h1 å…ƒç´ æœ€ç»ˆæ˜¾å¼ä¸ºä»€ä¹ˆé¢œè‰²ï¼ŸåŠ å…¥ä½ æƒ³è¦è¿½è¸ªè¿™ä¸ªå½±å“è¿™ä¸ª h1 çš„æ ·å¼ï¼Œæ€ä¹ˆè¿½è¸ªï¼Ÿ</p><p>è€Œ CSS-in-JS çš„æ–¹æ¡ˆå°±ç®€å•ç›´æ¥ã€æ˜“äºè¿½è¸ªï¼š</p><figure class="highlight hsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs hsp">export const <span class="hljs-keyword">Title</span> = styled.h1`<br>  <span class="hljs-keyword">color</span>: green<span class="hljs-comment">;</span><br>`<br>&lt;<span class="hljs-keyword">Title</span>&gt;<br>  æˆ‘æ˜¯å•¥é¢œè‰²ï¼Ÿ<br>&lt;/<span class="hljs-keyword">Title</span>&gt;<br></code></pre></td></tr></table></figure><ol start="4"><li><p>æ²¡æœ‰å˜é‡<br>ä¼ ç»Ÿçš„ CSS è§„åˆ™é‡Œæ²¡æœ‰å˜é‡â€¦(å…¶å®æœ‰â€“var å˜é‡)ï¼Œä½†æ˜¯åœ¨ CSS-in-JS ä¸­å¯ä»¥æ–¹ä¾¿åœ°æ§åˆ¶å˜é‡ï¼š</p><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs axapta"><span class="hljs-keyword">const</span> Container = styled.<span class="hljs-keyword">div</span>(props =&gt; (&#123;<br> <span class="hljs-keyword">display</span>: <span class="hljs-string">&#x27;flex&#x27;</span>,<br> flexDirection: props.column &amp;&amp; <span class="hljs-string">&#x27;column&#x27;</span><br>&#125;))<br></code></pre></td></tr></table></figure></li><li><p>CSS é€‰æ‹©å™¨ä¸ HTML å…ƒç´ é«˜åº¦è€¦åˆ</p></li></ol><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-selector-class">.target</span> <span class="hljs-selector-class">.name</span> <span class="hljs-selector-tag">h1</span> &#123;<br>  <span class="hljs-attribute">color</span>: red;<br>&#125;<br><span class="hljs-selector-tag">body</span> <span class="hljs-selector-id">#container</span> <span class="hljs-selector-tag">h1</span> &#123;<br>    <span class="hljs-attribute">color</span>: green<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!doctype <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&#x27;container&#x27;</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&#x27;target&#x27;</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&#x27;name&#x27;</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æˆ‘æ˜¯å•¥é¢œè‰²ï¼Ÿ<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>     <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å¦‚æœä½ æƒ³æŠŠ h1 æ”¹æˆ h2ï¼Œå¿…é¡»è¦åŒæ—¶æ”¹åŠ¨ CSS å’Œ HTMLã€‚è€Œåœ¨ CSS-in-JS ä¸­ï¼ŒHTML å’Œ CSS æ˜¯ç»“åˆåœ¨ä¸€èµ·çš„ï¼Œæ˜“äºä¿®æ”¹ã€‚(è¿™å…¶å®æ˜¯åœ¨ç¨‹åºå±‚æ¬¡ä¸Šéœ€è¦æåŠ›å»é¿å…çš„â€¦)</p><hr><h4 id="Emotion-ä»‹ç»"><a href="#Emotion-ä»‹ç»" class="headerlink" title="Emotion ä»‹ç»"></a>Emotion ä»‹ç»</h4><p>Emotion æ˜¯ç›®å‰æœ€å—æ¬¢è¿çš„ CSS-in-JS åº“ä¹‹ä¸€ï¼Œå®ƒè¿˜å¯¹ React ä½œäº†å¾ˆå¥½çš„é€‚åº”ï¼Œå¯ä»¥æ–¹ä¾¿åœ°åˆ›å»º styled componentï¼Œä¹Ÿæ”¯æŒå†™è¡Œå†…æ ·å¼ï¼š</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs gradle"><span class="hljs-comment">/** @jsx jsx */</span><br><span class="hljs-keyword">import</span> &#123; jsx &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@emotion/react&#x27;</span>;<br><br>render(<br>  &lt;<span class="hljs-keyword">div</span><br>    css=&#123;&#123;<br>      backgroundColor: <span class="hljs-string">&#x27;hotpink&#x27;</span>,<br>      <span class="hljs-string">&#x27;&amp;:hover&#x27;</span>: &#123;<br>        color: <span class="hljs-string">&#x27;lightgreen&#x27;</span><br>      &#125;<br>    &#125;&#125;<br>  &gt;<br>    <span class="hljs-keyword">This</span> has a hotpink background.<br>  &lt;/<span class="hljs-keyword">div</span>&gt;<br><br>)<br></code></pre></td></tr></table></figure><p>è¿™ç§å†™æ³•æ¯”èµ· React è‡ªå¸¦çš„ style çš„å†™æ³•åŠŸèƒ½æ›´å¼ºå¤§ï¼Œæ¯”å¦‚å¯ä»¥å¤„ç†çº§è”ã€ä¼ªç±»ç­‰ style å¤„ç†çš„ä¸äº†çš„æƒ…å†µï¼š</p><figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs handlebars"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">style</span>=</span></span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">color:</span> <span class="hljs-string">&quot;red&quot;</span> &#125;&#125;</span><span class="xml"><span class="hljs-tag">&gt;</span>&#123;keyword&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>JavaScript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¼€å‘ä¸ªäººåšå®¢åæ€å’Œæ€»ç»“</title>
    <link href="/2021/10/09/%E5%BC%80%E5%8F%91%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E5%8F%8D%E6%80%9D%E5%92%8C%E6%80%BB%E7%BB%93/"/>
    <url>/2021/10/09/%E5%BC%80%E5%8F%91%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E5%8F%8D%E6%80%9D%E5%92%8C%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<h4 id="å¼€å‘è¿‡ç¨‹"><a href="#å¼€å‘è¿‡ç¨‹" class="headerlink" title="å¼€å‘è¿‡ç¨‹"></a>å¼€å‘è¿‡ç¨‹</h4><ol><li>è´­ä¹°åŸŸå Namecheap â€”&gt; ç®—äº†ï¼Œæœ€åè¿˜æ˜¯å»çš„é˜¿é‡Œäº‘ä¹°çš„â€¦å›½å¤–çš„ æ”¯ä»˜æ–¹å¼æœ‰ç‚¹å›°éš¾<br>.com å’Œ .net æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</li></ol><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc"><span class="hljs-title">.com ï¼ˆå•†ä¸šæœºæ„ï¼‰ï¼›</span><br><span class="hljs-title">.net ï¼ˆä»äº‹äº’è”ç½‘æœåŠ¡çš„æœºæ„ï¼‰ï¼›</span><br></code></pre></td></tr></table></figure><p>ä¹°çš„åŸŸåå¯¹äºæ‰€åœ¨åŒºåŸŸæœ‰ä»€ä¹ˆå½±å“æ²¡ï¼Ÿ</p><ol start="2"><li>è®¾å®š DNS å°†åŸŸååœæ³Šåˆ° Cloudflareï¼Œå› ä¸ºå®ƒæœ‰å…è´¹çš„ SSL ä»¥åŠå…¨çƒ CND åŠ é€Ÿç­‰æœåŠ¡(é‡‡ç”¨å…è´¹æ–¹æ¡ˆ)ï¼Œç„¶åè®¾å®š DNSï¼Œ åŠ å…¥ä¸¤ä¸ª A è®°å½•<br>(<a href="https://zhuanlan.zhihu.com/p/86961133">https://zhuanlan.zhihu.com/p/86961133</a>)</li></ol><h2 id="cloudflare-çš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆ-cnd-æ˜¯ä»€ä¹ˆä¸œä¸œï¼Ÿ"><a href="#cloudflare-çš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆ-cnd-æ˜¯ä»€ä¹ˆä¸œä¸œï¼Ÿ" class="headerlink" title="cloudflare çš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆ cnd æ˜¯ä»€ä¹ˆä¸œä¸œï¼Ÿ"></a>cloudflare çš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆ cnd æ˜¯ä»€ä¹ˆä¸œä¸œï¼Ÿ</h2><p><a href="https://cloud.tencent.com/developer/article/1137135">cloudflare ç›¸å…³çŸ¥è¯†</a><br>SEO â€“&gt;<br>å»ºç«™éœ€è¦ä»€ä¹ˆä¸œè¥¿</p><ol><li>åŸŸå</li><li>ç©ºé—´(ä¸»æœº) â€”&gt; å­˜å‚¨ç½‘ç«™çš„åœ°æ–¹</li><li>ç¨‹åº(ç›®å‰å·²ç»æœ‰å¼€æºç¨‹åºäº†)</li></ol><p><strong>åŸŸå</strong>:heyang.xyz (åŸŸåæ˜¯ç§Ÿçš„â€¦) å…·æœ‰å”¯ä¸€æ€§<br>æ³¨æ„ï¼š<br>ä¸è¦è´­ä¹°ä¸­æ–‡åŸŸå(å¦‚æœæœ‰ seo)<br>ä¹°å¸¸ç”¨çš„åç¼€<br>å®¹æ˜“è®°å¿†çš„</p><p><strong>ä»€ä¹ˆæ˜¯ç½‘ç«™ç©ºé—´ï¼Ÿ</strong><br>æœåŠ¡å™¨(ä¸“ä¸šç”µè„‘ï¼Œæ›´å¼ºå¤§) â€”&gt; ç›®å‰å¹²è„†å°±ç”¨è‡ªå·±çš„ç”µè„‘å½“ä¸€ä¸ªæœåŠ¡å™¨ç®—äº†â€¦(ä¸è¡Œï¼Œç”µè„‘è¦ä¸€ç›´å¼€æœºæ‰è¡Œâ€¦ä½†äº‹å®ä¸Šä¸å¯èƒ½ä¸€ç›´å¼€æœº)<br>ç©ºé—´(æœåŠ¡å™¨é‡Œçš„æ–‡ä»¶å¤¹)<br>ä¸Šè¿°çš„è¿™ä¸ªæ–‡ä»¶å¤¹å¯ä»¥å’ŒåŸŸåé“¾æ¥åœ¨ä¸€èµ·(æ‰€ä»¥è®¿é—®ç½‘ç«™ï¼Œå…¶å®å°±æ˜¯é€šè¿‡åŸŸåæ‰“å¼€æœåŠ¡å™¨é‡Œçš„æ–‡ä»¶å¤¹)</p><p>ç©ºé—´æ‰€ä»¥æˆ‘ä»¬é‡‡ç”¨ç§Ÿçš„æ–¹å¼â€¦</p><p><strong>å»ºç«™ç¨‹åº</strong><br>äº‹å®ä¸Šå¤§å¤šæ•°éƒ½æ˜¯ç”¨çš„å»ºç«™ç¨‹åºæ¥å†™çš„â€¦<br>WordPress<br>ç»‡æ¢¦</p><hr><p>HEXO<br>å®‰è£… nodejs â€“&gt; nodejs è®© js æˆä¸ºäº†ä¸ phpã€pyã€perlã€ruby ç­‰æœåŠ¡ç«¯ä½ è¯­è¨€å¹³èµ·å¹³åçš„è„šæœ¬è¯­è¨€</p><blockquote><p>hexo å®‰è£…ï¼šnpm intall hexo-cli -g</p></blockquote><p>åˆ©ç”¨ github çš„ä»“åº“ä½œä¸º hexo çš„æœåŠ¡å™¨æ¥æ­å»ºä¸ªäººç½‘ç«™</p><p>ä¸ªäººåšå®¢çš„è¯ï¼Œç”¨ hexo å®Œå…¨ä¸éœ€è¦å»å¦å¤–è´­ä¹°ç©ºé—´ï¼Œå¯ä»¥æ‰˜ç®¡åˆ°ä¸ª ithubã€coding ç­‰æ‰˜ç®¡å¹³å°ï¼Œå…è´¹æä¾›çš„ç©ºé—´å®Œå…¨è¶³å¤Ÿäº†ï¼Œæ¯•ç«Ÿä¸€ç¯‡æ–‡ç« é¡¶å¤©ä¸è¿‡åå‡  kb</p><hr><p><a href="https://pages.github.com/">https://pages.github.com</a></p><p>é‡‡ç”¨ github page + hexo</p><p><a href="https://hexo.io/">hexo ç½‘ç«™</a><br><a href="https://hexo.io/plugins/">hexo æ’ä»¶</a></p><p>.github.io æ˜¯ä¸€ä¸ªäºŒçº§åŸŸåâ€¦ äºŒçº§åŸŸåæœ‰ä»€ä¹ˆä¸åŒä¹‹å¤„å—ï¼Ÿ</p><p><a href="https://hexo.io/themes/">hexo ä¸»é¢˜</a></p><p>æˆ‘å–œæ¬¢çš„ä¸»é¢˜ï¼š<a href="https://github.com/blleng/hexo-theme-lx">hexo-theme-lx</a><br><a href="https://github.com/zhaoo/hexo-theme-zhaoo">æ¨è hexo ä¸»é¢˜</a></p><p><a href="https://github.com/fluid-dev/hexo-theme-fluid">æœ€ç‰›é€¼æœ€é€‚åˆæˆ‘çš„ hexo ä¸»é¢˜</a><br>fluid è¿™ä¸ªä¸»é¢˜æ–‡æ¡£ç›¸å½“çš„è¯¦å°½ä¸é”™ï¼</p><blockquote><p>hexo æ¸…ç†ç¼“å­˜ï¼Œé‡æ–°éƒ¨ç½²:<br>hexo clean &amp;&amp; hexo g -d<br>â€”&gt; å½“æˆ‘ä½¿ç”¨äº†è¿™ä¸ªå‘½ä»¤åï¼Œæˆ‘æ‰€æ›´æ–°çš„ä¸œè¥¿å°±ä¼šè‡ªåŠ¨æ”¾åœ¨<a href="https://bruce-shuai.github.io/%E9%87%8C%E4%BA%86%E3%80%82%E8%80%8C%E4%B8%8D%E6%98%AF%E7%94%A8git">https://bruce-shuai.github.io/é‡Œäº†ã€‚è€Œä¸æ˜¯ç”¨git</a> add . git commit -m â€¦è¿™äº›æ“ä½œâ€¦</p></blockquote><h4 id="ä¸ºåšå®¢ç»‘å®šè‡ªå·±çš„åŸŸåâ€¦"><a href="#ä¸ºåšå®¢ç»‘å®šè‡ªå·±çš„åŸŸåâ€¦" class="headerlink" title="ä¸ºåšå®¢ç»‘å®šè‡ªå·±çš„åŸŸåâ€¦"></a>ä¸ºåšå®¢ç»‘å®šè‡ªå·±çš„åŸŸåâ€¦</h4><p>èµ„æ–™<br><a href="https://cloud.tencent.com/developer/article/1435908">dns è§£æ</a></p><p><a href="https://www.bilibili.com/video/BV1rb411n79N?from=search&seid=2760737936132922743&spm_id_from=333.337.0.0">è¯¥åŸŸåçš„æ•™ç¨‹</a></p><hr><p><a href="https://blog.justlovesmile.top/">çœ‹è¿™ä½å¤§ä½¬çš„ hexo ç¬”è®°èƒ½å­¦åˆ°å¾ˆå¤š</a><br><a href="http://blog.itchenliang.club/posts/22350780-f32d-11ea-bb4a-d3e1cbe3d59d/">é­”æ”¹ hexo</a><br><a href="https://pxxyyz.com/categories/">fluid å¤§ä½¬åšå®¢</a><br><a href="https://i.vince.pub/p/fluid-doc-pr/#%E4%B8%80%E8%A8%80">fluid åˆä¸€ä¸ªå¤§ä½¬åšå®¢</a><br><a href="https://papiboy.gitee.io/2021/03/25/hexo%E7%BE%8E%E5%8C%96%E9%A1%B5%E9%9D%A2/">å†ä¸€ä½ fluid å¤§ä½¬</a><br><a href="https://www.itrhx.com/2018/08/27/A04-Hexo-blog-topic-personalization/">å†æ¥ä¸€ç¯‡ fluid ç¾åŒ–çš„åšå®¢</a><br><a href="https://blog.jalenchuh.cn/posts/hexo-fluid/">è¿™ä½å¤§ä½¬çš„ fluid çš„ç¾åŒ–æ•™ç¨‹å¾ˆä¸é”™</a><br><a href="https://emoryhuang.cn/blog/1729600336.html">å†ä¸€ä½å¤§ä½¬</a><br><a href="https://blog.justlovesmile.top/posts/c8972b63.html">hexo çš„ä½¿ç”¨</a></p><p><a href="https://segmentfault.com/a/1190000012805627">æ›´æ¢ hexo ä¸»é¢˜</a></p><p><a href="https://waline.js.org/guide/get-started.html#leancloud-%E8%AE%BE%E7%BD%AE-%E6%95%B0%E6%8D%AE%E5%BA%93">hexo è¯„è®ºåŒº Waline æ’ä»¶</a></p><p><a href="https://www.pexels.com/zh-cn/">å…è´¹å›¾ç‰‡ç½‘ç«™</a><br><a href="https://undraw.co/search">å…è´¹ svg å›¾ç‰‡ç½‘ç«™</a></p><hr><p><strong>åšå®¢æ€§èƒ½ä¼˜åŒ–ï¼š</strong></p><hr><p><strong>cdn</strong><br>GitHub+jsDelivr+PicGo æ­å»ºå…è´¹å›¾åºŠ<br>ç›¸å…³åšå®¢ï¼š<br><a href="https://blog.justlovesmile.top/posts/c8972b63.html">https://blog.justlovesmile.top/posts/c8972b63.html</a><br><a href="https://segmentfault.com/a/1190000020240864">https://segmentfault.com/a/1190000020240864</a></p><p><strong>â€“&gt; æ— éœ€ä¸‹è½½è½¯ä»¶çš„æ–¹æ³•ï¼š<a href="picx.xpoet.cn">PicX</a></strong><br>ç”¨ cdn å¤–é“¾çš„å¥½å¤„æ˜¯ä»€ä¹ˆï¼Ÿ</p><hr><h2 id="Artitalk"><a href="#Artitalk" class="headerlink" title="Artitalk"></a><strong>Artitalk</strong></h2><p>å‘å¸ƒè¯´è¯´<br>å®˜ç½‘ï¼š<a href="https://artitalk.js.org/">https://artitalk.js.org/</a></p><hr><p>SEO</p><hr><p>ç•™è¨€æ¿</p><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs llvm">ä¸€è¨€ï¼š https://developer.hitokoto.cn/sentence/#<span class="hljs-variable">%E6</span><span class="hljs-variable">%8</span>E<span class="hljs-variable">%A5</span><span class="hljs-variable">%E5</span><span class="hljs-variable">%8</span>F<span class="hljs-variable">%A3</span><span class="hljs-variable">%E8</span><span class="hljs-variable">%AF</span><span class="hljs-variable">%B4</span><span class="hljs-variable">%E6</span><span class="hljs-variable">%98</span><span class="hljs-variable">%8</span>E  // è¿™ä¸ªç½‘ç«™çš„apiæœ‰ç‚¹éªš~<br></code></pre></td></tr></table></figure><hr><p>loading åŠ¨ç”»ï¼š<br><a href="https://www.zyoushuo.cn/post/69e.html">1</a></p><hr><p>æ›´æ”¹çš„å†…å®¹æ•ˆæœå…ˆåœ¨ hexo server â€“debug ä¸Šè§‚çœ‹(ä¸€èˆ¬æ¥è¯´æœ‰å¤§çš„æ”¹åŠ¨ï¼Œéœ€é‡å¯ hexo server â€“debug)<br>å¦‚æœæ„Ÿè§‰æ›´æ”¹çš„ä¸é”™(ä¾æ¬¡è¾“å…¥ä¸‹é¢ä¸‰ä¸ªè¯­å¥ ä¸Šä¼ åˆ° heyang.xyz é‡Œ)ï¼š<br>hexo generate<br>hexo deploy<br>hexo clean</p><hr><h4 id="æ€§èƒ½æ£€æµ‹ï¼š"><a href="#æ€§èƒ½æ£€æµ‹ï¼š" class="headerlink" title="æ€§èƒ½æ£€æµ‹ï¼š"></a>æ€§èƒ½æ£€æµ‹ï¼š</h4><p>ä¸å¤šèµ˜è¿°ï¼Œè¿™ç¯‡æ–‡ç« è®²å¾—éå¸¸å¥½ï¼<a href="https://juejin.cn/book/6844733750048210957/section/6844733750123692046">ä¿®è¨€-Performanceã€LightHouse ä¸æ€§èƒ½ API</a></p><p>è§£å†³å›½å†… github+hexo æ‰“å¼€é¡µé¢æ…¢çš„æ–¹æ³•ï¼š<br>ç”±äºå›½å†…è®¿é—® github çš„é€Ÿåº¦è¾ƒæ…¢ï¼Œå› æ­¤å¯ä»¥é€šè¿‡åŒéƒ¨ç½²åŒæ—¶éƒ¨ç½²åˆ° Coding<a href="https://coding.net/">https://coding.net/</a><br><a href="https://zhuanlan.zhihu.com/p/100926319">ä¸€ç¯‡ä¸é”™çš„æ–‡ç« </a><br>æ›´å¤š Coading ç»‘å®šéƒ¨ç½²æ“ä½œéœ€è¦è¿›ä¸€æ­¥çœ‹</p>]]></content>
    
    
    <categories>
      
      <category>ITéšç¬”</category>
      
    </categories>
    
    
    <tags>
      
      <tag>äº’è”ç½‘</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>postè¯·æ±‚å’Œgetè¯·æ±‚çš„åŒºåˆ«</title>
    <link href="/2021/10/09/post%E8%AF%B7%E6%B1%82%E5%92%8Cget%E8%AF%B7%E6%B1%82%E7%9A%84%E5%8C%BA%E5%88%AB/"/>
    <url>/2021/10/09/post%E8%AF%B7%E6%B1%82%E5%92%8Cget%E8%AF%B7%E6%B1%82%E7%9A%84%E5%8C%BA%E5%88%AB/</url>
    
    <content type="html"><![CDATA[<h4 id="1-æœ‰å“ªäº›è¯·æ±‚æ–¹å¼ï¼Ÿ"><a href="#1-æœ‰å“ªäº›è¯·æ±‚æ–¹å¼ï¼Ÿ" class="headerlink" title="1.æœ‰å“ªäº›è¯·æ±‚æ–¹å¼ï¼Ÿ"></a>1.æœ‰å“ªäº›è¯·æ±‚æ–¹å¼ï¼Ÿ</h4><ul><li>get</li><li>post</li><li>put</li><li>patch</li><li>delete<br>â€¦</li></ul><h4 id="2-get-è¯·æ±‚å’Œ-post-è¯·æ±‚çš„åŒºåˆ«"><a href="#2-get-è¯·æ±‚å’Œ-post-è¯·æ±‚çš„åŒºåˆ«" class="headerlink" title="2.get è¯·æ±‚å’Œ post è¯·æ±‚çš„åŒºåˆ«"></a>2.get è¯·æ±‚å’Œ post è¯·æ±‚çš„åŒºåˆ«</h4><p><strong>get è¯·æ±‚</strong><br>1ï¼‰ä¸€èˆ¬ç”¨æ¥ä»æœåŠ¡å™¨è·å–æ•°æ® (æœ‰æ—¶å€™ä¼šåœ¨ url é‡Œå¢æ·»å‚æ•° è¡¨ç¤ºè·å–æœ‰ä¸€å®šé™åˆ¶(ç­›é€‰æ•°æ®)çš„æ•°æ®)<br>2ï¼‰1 ä¸­æåˆ°å¯ä»¥åœ¨ url é‡Œæ·»åŠ å‚æ•°ï¼Œä½†è¿™æ ·åšçš„è¯ï¼Œå®‰å…¨æ€§ï¼Œéšç§æ€§å°±æ¯”è¾ƒå·®ã€‚å¹¶ä¸”å‚æ•°çš„é•¿åº¦æ˜¯æœ‰é™åˆ¶çš„(ä¸ç„¶ï¼Œå¦‚æœæ— é™é•¿ï¼Œurl çš„é•¿åº¦å°±æ— é™é•¿â€¦éå¸¸ææ€–â€¦)<br>3ï¼‰å½“ å‘é€ get è¯·æ±‚æ—¶ï¼Œåˆ·æ–°æµè§ˆå™¨æˆ–å›é€€é¡µé¢æ˜¯æ²¡æœ‰å½±å“çš„(åªè¦ url æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œå°±ä¸ä¼šå½±å“ get è¯·æ±‚å‘é€)<br>4ï¼‰get è¯·æ±‚å¯ä»¥ç¼“å­˜ (è¿™æ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Ÿæœ‰å¾…æŸ¥è¯¢) (å› ä¸º get è¯·æ±‚çš„æ•°æ®ä¸€èˆ¬æ˜¯å…¬å¼€çš„â€¦å¤§å®¶éƒ½å¯ä»¥çœ‹çš„ä¸œè¥¿)<br>5ï¼‰get è¯·æ±‚ä¼šä¿ç•™åœ¨æµè§ˆå™¨å†å²è®°å½•å½“ä¸­<br>6ï¼‰get è¯·æ±‚å¯ä»¥è¢«æ”¶è—ä¸ºä¹¦ç­¾(å› ä¸ºç›´æ¥æ”¶è— url å°±å¯ä»¥äº† url å¸¦ä¸Šäº†å‚æ•°)<br>7ï¼‰get è¯·æ±‚åªèƒ½è¿›è¡Œ url ç¼–ç (â€˜Content-typeâ€™: â€˜application/x-www-form-urlencodedâ€™)<br>8ï¼‰get è¯·æ±‚é€šå¸¸æ˜¯é€šè¿‡ url åœ°å€æ å‘é€è¯·æ±‚<br><strong>post è¯·æ±‚</strong><br>1ï¼‰ä¸€èˆ¬ç”¨äºæäº¤æ•°æ®åˆ°åå° (æ¯”å¦‚ç™»å½•ã€æ³¨å†Œæ—¶çš„æ“ä½œ)<br>2ï¼‰post è¯·æ±‚çš„å‚æ•°æ”¾åœ¨ è¯·æ±‚çš„ body ä¸­ã€‚æ‰€ä»¥ä¸ä¼šå† url ä¸­å±•ç¤ºï¼Œç›¸å¯¹è€Œè¨€æ¯” get è¦æ›´åŠ çš„å®‰å…¨<br>3ï¼‰å‘é€ post è¯·æ±‚è¿‡ç¨‹ä¸­ï¼Œå›é€€é¡µé¢ï¼Œè¯·æ±‚é‡æ–°å‘é€(å› ä¸ºå‚æ•°ä¼šå‘é€å˜åŒ–)<br>4ï¼‰post è¯·æ±‚ä¸ä¼šè¢«ç¼“å­˜ (post çš„è¯·æ±‚çš„æ•°æ®ä¸€èˆ¬æ¥è¯´éƒ½æ˜¯æ¯”è¾ƒç§å¯†çš„â€¦)<br>5ï¼‰post ä¸ä¼šä¿å­˜åœ¨æµè§ˆå™¨å†å²è®°å½•å½“ä¸­<br>6ï¼‰post è¯·æ±‚ä¸å¯ä»¥è¢«æ”¶è—ä¸ºä¹¦ç­¾(post å‚æ•°æ”¾åœ¨ body é‡Œé¢çš„ã€‚ä¹¦ç­¾æ— æ³•æ‰¾åˆ°å¯¹åº”çš„å‚æ•°â€¦)<br>7ï¼‰post è¯·æ±‚æ”¯æŒå¤šç§ç¼–ç æ–¹å¼(ä¾‹å¦‚ urlï¼šâ€™application/x-www-form-urlencodedâ€™ è¡¨å•æäº¤ï¼šâ€™multipart/form-dataâ€™ â€¦æœ‰å¾…è¡¥å……)<br>8ï¼‰post è¯·æ±‚é€šå¸¸æ˜¯è¡¨å•å‘é€è¯·æ±‚</p><p><strong>get å’Œ post è¯·æ±‚æ¯”è¾ƒæ·±å…¥çš„ä¸€äº›åŒºåˆ«å¦‚ä¸‹</strong></p><ul><li>post è¯·æ±‚å’Œ get è¯·æ±‚éƒ½æ˜¯ http çš„è¯·æ±‚æ–¹å¼ã€‚åº•å±‚éƒ½æ˜¯ tcp/ip åè®®ã€‚get äº§ç”Ÿä¸€ä¸ª tcp æ•°æ®åŒ…ã€‚post äº§ç”Ÿä¸¤ä¸ªæ•°æ®åŒ…(ä½†æ˜¯ firefox åªå‘é€ä¸€ä¸ª)<br>æœ‰ä¸ªé—®é¢˜æ˜¯ï¼Œè¿™ä¸ªå‘é€ä¸€ä¸ªæ•°æ®åŒ…æˆ–å‘é€ä¸¤ä¸ªæ•°æ®åŒ…çš„åŒºåˆ«å’Œæ„ä¹‰æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ<br>(åœ¨ç½‘ç»œå¥½çš„æ—¶å€™ï¼Œå‘ä¸€æ¬¡æ•°æ®åŒ…å’Œå‘ä¸¤æ¬¡æ•°æ®åŒ… å…¶å®æ•ˆæœéƒ½å·®ä¸å¤šã€‚ä½†æ˜¯å½“ç½‘ç»œæ¡ä»¶å¾ˆå·®çš„æ—¶å€™ï¼Œå‘ä¸€æ¬¡æ•°æ®åŒ…çš„æ•ˆæœè‚¯å®šæ¯”å‘ä¸¤æ¬¡æ•°æ®åŒ…çš„é€Ÿåº¦è¦å¿«ï¼)</li><li>get è¯·æ±‚ä¼šæŠŠ http header å’Œ data ä¸€èµ·å‘é€å‡ºå»ï¼ŒæœåŠ¡ç«¯ååº” 200ã€‚post è¯·æ±‚å…ˆå‘é€ headerï¼Œç­‰æœåŠ¡ç«¯å“åº”äº† 100 å†ç»§ç»­å‘é€ dataã€‚æœåŠ¡ç«¯å†å“åº” 200</li></ul>]]></content>
    
    
    <categories>
      
      <category>JavaScript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Setå’ŒMapåŸºæœ¬ä½¿ç”¨æ–¹æ³•</title>
    <link href="/2021/10/09/Set%E5%92%8CMap%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/"/>
    <url>/2021/10/09/Set%E5%92%8CMap%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h4 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h4><p><code>Map</code> <strong>(æœ‰é“ç¿»è¯‘)</strong> v.æ˜ å°„<br>çš„ç¡®ï¼Œ<code>Map</code> å¼ºè°ƒçš„å°±æ˜¯<strong>å¯¹åº”å…³ç³»</strong><br>è®°ä½ä¸¤ä¸ª<strong>å…³é”®ç‚¹</strong>ï¼š</p><ol><li>æ— åº, ä½†æœ‰ä¸‹æ ‡ä¸”ä¸‹æ ‡å”¯ä¸€</li><li>é”®å€¼å¯¹</li></ol><h5 id="Map-çš„åŸºæœ¬ç”¨æ³•"><a href="#Map-çš„åŸºæœ¬ç”¨æ³•" class="headerlink" title="Map çš„åŸºæœ¬ç”¨æ³•"></a>Map çš„åŸºæœ¬ç”¨æ³•</h5><p>ï¼ˆä¸€ï¼‰åˆ›å»º</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> m1 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>();<br></code></pre></td></tr></table></figure><p>ï¼ˆäºŒï¼‰è®¾ç½® (Map å¯ä¸åƒå¯¹è±¡ï¼Œé”®åªèƒ½æ”¾å­—ç¬¦ï¼ŒMap çš„é”®å¯ä»¥æ˜¯å„ç§ç±»å‹çš„å€¼ï¼ˆåŒ…æ‹¬å¯¹è±¡ï¼‰éƒ½å¯ä»¥å½“ä½œé”®ï¼Œå¦‚æœä½ éœ€è¦â€œé”®å€¼å¯¹â€çš„æ•°æ®ç»“æ„ï¼ŒMap æ¯” Object æ›´åˆé€‚ã€‚)</p><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs lasso">m1.<span class="hljs-built_in">set</span>(<span class="hljs-string">&#x27;a1&#x27;</span>, <span class="hljs-string">&#x27;å¸…å¾—ä¹±ä¸ƒå…«ç³Ÿ&#x27;</span>)<br>m1.<span class="hljs-built_in">set</span>(<span class="hljs-string">&#x27;a2&#x27;</span>, <span class="hljs-string">&#x27;å¸…å¾—æ­ªç“œè£‚æ£&#x27;</span>)<br>m1.<span class="hljs-built_in">set</span>(<span class="hljs-string">&#x27;a3&#x27;</span>, <span class="hljs-string">&#x27;å¸…å¾—ä¸€å¡Œç³Šæ¶‚&#x27;</span>)<br>m1.<span class="hljs-built_in">set</span>(() =&gt; &#123; console.<span class="hljs-keyword">log</span>(<span class="hljs-string">&#x27;func&#x27;</span>)&#125;, <span class="hljs-string">&#x27;å°å‘†å‘†èƒ½æ‰¾åˆ°å¥³æœ‹å‹&#x27;</span> )  <span class="hljs-comment">// é”™è¯¯</span><br><span class="hljs-comment">// å¯¹äºé™¤äº†å­—ç¬¦ä¸²ç±»å‹ï¼Œæœ€å¥½æ˜¯èµ‹å€¼åˆ°ä¸€ä¸ªå˜é‡åå†æ”¾å…¥seté‡Œé¢å»</span><br><span class="hljs-keyword">let</span> b = () =&gt; &#123; console.<span class="hljs-keyword">log</span>(<span class="hljs-string">&#x27;func&#x27;</span>)&#125;;<br>m1.<span class="hljs-built_in">set</span>(b, <span class="hljs-string">&#x27;å°å‘†å‘†èƒ½æ‰¾åˆ°å¥³æœ‹å‹&#x27;</span>)<br></code></pre></td></tr></table></figure><p>ï¼ˆä¸‰ï¼‰è·å–</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">console.<span class="hljs-built_in">log</span>(m1.<span class="hljs-built_in">get</span>(<span class="hljs-string">&#x27;a2&#x27;</span>));   <span class="hljs-comment"> // å¸…å¾—æ­ªç“œè£‚æ£</span><br>console.<span class="hljs-built_in">log</span>(m1.<span class="hljs-built_in">get</span>(b));      <span class="hljs-comment"> // &#x27;å°å‘†å‘†èƒ½æ‰¾åˆ°å¥³æœ‹å‹&#x27;</span><br></code></pre></td></tr></table></figure><p>ï¼ˆå››ï¼‰åˆ¤æ–­ â€”&gt; åªèƒ½æ”¾å…¥é”®</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql">console.<span class="hljs-built_in">log</span>(m1.has(<span class="hljs-string">&#x27;a2&#x27;</span>));         <span class="hljs-operator">/</span><span class="hljs-operator">/</span> <span class="hljs-literal">true</span><br>console.<span class="hljs-built_in">log</span>(m1.has(<span class="hljs-string">&#x27;å¸…å¾—ä¸€å¡Œç³Šæ¶‚&#x27;</span>)); <span class="hljs-operator">/</span><span class="hljs-operator">/</span> <span class="hljs-literal">false</span><br></code></pre></td></tr></table></figure><p>ï¼ˆäº”ï¼‰åˆ é™¤</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">m1.<span class="hljs-keyword">delete</span>(<span class="hljs-string">&#x27;a3&#x27;</span>)<br>console.log(m1.has(<span class="hljs-string">&#x27;a3&#x27;</span>));  <span class="hljs-regexp">//</span> false<br></code></pre></td></tr></table></figure><p>ï¼ˆå…­ï¼‰æ¸…ç©º</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs arduino">m1.<span class="hljs-built_in">clear</span>();<br>console.<span class="hljs-built_in">log</span>(m1)<br></code></pre></td></tr></table></figure><p>ï¼ˆä¸ƒï¼‰é”®å€¼å¯¹ä¸ªæ•°</p><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs processing">m1.<span class="hljs-built_in">set</span>(<span class="hljs-string">&#x27;a1&#x27;</span>, <span class="hljs-string">&#x27;å¸…å¾—ä¹±ä¸ƒå…«ç³Ÿ&#x27;</span>)<br>m1.<span class="hljs-built_in">set</span>(<span class="hljs-string">&#x27;a2&#x27;</span>, <span class="hljs-string">&#x27;å¸…å¾—æ­ªç“œè£‚æ£&#x27;</span>)<br>m1.<span class="hljs-built_in">set</span>(<span class="hljs-string">&#x27;a3&#x27;</span>, <span class="hljs-string">&#x27;å¸…å¾—ä¸€å¡Œç³Šæ¶‚&#x27;</span>)<br>console.<span class="hljs-built_in">log</span>(m1.<span class="hljs-built_in">size</span>)   <span class="hljs-comment">// 3</span><br></code></pre></td></tr></table></figure><p><strong>å†æ¬¡å¼ºè°ƒï¼ï¼</strong> <code>Map</code> æ¯” <code>å¯¹è±¡</code>å¼ºçš„åœ°æ–¹åœ¨äº <code>Map</code> çš„ä¸‹æ ‡(é”®)æ¯”<code>å¯¹è±¡</code>çš„é”®æ›´çµæ´»ï¼Œå¯ä»¥æ˜¯ä»»ä½•ç±»å‹!</p><p>ï¼ˆå…«ï¼‰éå† Map (æ³¨æ„ï¼šéå†å…¶å®å°±æ˜¯è¿­ä»£)</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">m1.<span class="hljs-keyword">forEach</span>((item, <span class="hljs-keyword">index</span>) =&gt; console.log(item, <span class="hljs-keyword">index</span>))   //itemåªä¼šæ˜¾ç¤ºå€¼ä¸ä¼šæ˜¾ç¤ºé”®è€Œ <span class="hljs-keyword">index</span> ä¼šæ˜¾ç¤ºå‡ºé”®ï¼Œä¸ä¼šæ˜¾ç¤ºå€¼<br></code></pre></td></tr></table></figure><hr><h4 id="éå†"><a href="#éå†" class="headerlink" title="éå†"></a>éå†</h4><blockquote><p>å·§è®°ï¼š forâ€¦of(éå†æ•°ç»„) forâ€¦in(éå†å¯¹è±¡)</p></blockquote><p>äº‹å®ä¸Šæœ€å¥½åˆ«æ‹¿ forâ€¦in æ¥éå†æ•°ç»„(forâ€¦of åŒç†ï¼Œåˆ«æ‹¿æ¥éå†å¯¹è±¡)</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs awk">let arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br>arr.name = <span class="hljs-string">&#x27;æˆ‘æ˜¯è°&#x27;</span>;    <span class="hljs-regexp">//</span> å¦‚æœæœ‰äººè„‘æ®‹ï¼Œåœ¨arrä¸­åˆä»¥è¿™æ ·çš„æ–¹å¼å¢æ·»äº†å±æ€§<br><br><span class="hljs-keyword">for</span> (let key <span class="hljs-keyword">in</span> arr) &#123;<br>  console.log(key);   <span class="hljs-regexp">//</span> ä¸ä»…arrä¸‹æ ‡æ‰“å°è¿˜ä¼šæŠŠnameä¹Ÿéå†äº†...<br>&#125;<br><br><span class="hljs-keyword">for</span> (let key of arr) &#123;<br>  <span class="hljs-regexp">//</span> <span class="hljs-keyword">for</span> of ç›¸è¾ƒäº forEach map è¿™äº›æ–¹æ³• èƒ½å¤Ÿæœ‰ä¸­æ–­éå†åŠŸèƒ½<br>  <span class="hljs-regexp">//</span> <span class="hljs-keyword">break</span>;<br>  console.log(key);   <span class="hljs-regexp">//</span> ä¼šéå†çœŸæ­£çš„æ•°ç»„å…ƒç´ ã€‚name ä¸ä¼šéå†<br>&#125;<br>let obj = &#123;<br>  name: <span class="hljs-string">&#x27;å°æ˜&#x27;</span>,<br>  sex: <span class="hljs-string">&#x27;ç”·&#x27;</span>,<br>  age: <span class="hljs-number">19</span><br>&#125;<br><br><span class="hljs-regexp">//</span> éå†å¯¹è±¡<br><span class="hljs-keyword">for</span> (let k <span class="hljs-keyword">in</span> obj) &#123;<br>  <span class="hljs-regexp">//</span> å¦‚æœæ˜¯obj.k ä»¥ä¸ºæ˜¯objçš„kå±æ€§ã€‚ä½†æ²¡æœ‰åœ¨objé‡Œè®¾ç½®k<br>  <span class="hljs-regexp">//</span> ä½†è¦æ³¨æ„ï¼šå¦‚æœæ˜¯obj[k] kä¼šè¢«å½“æˆå­—ç¬¦ä¸²çš„å±æ€§ ä¾‹å¦‚ obj[<span class="hljs-string">&#x27;key&#x27;</span>]<br>  console.log(k, obj[k]);<br>&#125;<br><br>console.log(obj[<span class="hljs-string">&#x27;name&#x27;</span>]);   <span class="hljs-regexp">//</span> å°æ˜<br></code></pre></td></tr></table></figure><hr><h4 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h4><p><strong>Set å®¹å™¨(é›†åˆ)</strong> ï¼šæ— åº ä¸å¯é‡å¤çš„å¤šä¸ª value çš„é›†åˆä½“(ä¸æ˜¯é”®å€¼å¯¹å“¦ï¼)<br>ç†è§£ä¸ºç‰¹æ®Šæ•°ç»„ï¼Œå…ƒç´ å€¼ä¸é‡å¤</p><p>å…¶å®å’Œä¸Šé¢çš„ Map çš„æ–¹æ³•ä¸€æ ·, æ— å¤–ä¹å¢åˆ æ”¹æŸ¥</p><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs processing"><span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªç©ºé›†åˆ</span><br>let set1 = <span class="hljs-keyword">new</span> Set();<br><br><span class="hljs-comment">// æ·»åŠ å…ƒç´ </span><br>set1.<span class="hljs-built_in">add</span>(<span class="hljs-string">&#x27;a&#x27;</span>)<br>set1.<span class="hljs-built_in">add</span>(<span class="hljs-string">&#x27;c&#x27;</span>)<br><br>console.<span class="hljs-built_in">log</span>(set1);<br>console.<span class="hljs-built_in">log</span>(set1.has(<span class="hljs-string">&#x27;b&#x27;</span>));  <span class="hljs-comment">// é›†åˆä¸­æ˜¯å¦å«æœ‰ &#x27;b&#x27;</span><br>set1.delete(<span class="hljs-string">&#x27;c&#x27;</span>);    <span class="hljs-comment">// åˆ é™¤ &#x27;c&#x27;</span><br>set1.<span class="hljs-built_in">add</span>(<span class="hljs-string">&#x27;a&#x27;</span>);       <span class="hljs-comment">// å› ä¸ºé‡å¤ï¼Œæ‰€ä»¥åªä¿ç•™ä¸€ä¸ª</span><br>console.<span class="hljs-built_in">log</span>(set1);<br>console.<span class="hljs-built_in">log</span>(set1.<span class="hljs-built_in">size</span>);   <span class="hljs-comment">// å…ƒç´ ä¸ªæ•°</span><br>set1.<span class="hljs-built_in">clear</span>();        <span class="hljs-comment">// æ¸…ç©ºé›†åˆ</span><br>console.<span class="hljs-built_in">log</span>(set1);<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>JavaScript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æµ…æ‹·è´å’Œæ·±æ‹·è´</title>
    <link href="/2021/10/08/%E6%B5%85%E6%8B%B7%E8%B4%9D%E5%92%8C%E6%B7%B1%E6%8B%B7%E8%B4%9D/"/>
    <url>/2021/10/08/%E6%B5%85%E6%8B%B7%E8%B4%9D%E5%92%8C%E6%B7%B1%E6%8B%B7%E8%B4%9D/</url>
    
    <content type="html"><![CDATA[<blockquote><p>å‰ç½®çŸ¥è¯†ï¼šå€¼èµ‹å€¼å’Œå¼•ç”¨èµ‹å€¼å°±ä¸å†èµ˜è¿°äº†, ç›¸å¯¹è€Œè¨€æŒºåŸºç¡€çš„â€¦</p></blockquote><p>æˆ‘å·²çŸ¥çš„èƒ½å¤Ÿåœ¨<code>js</code>é‡Œå®ç°<code>æ‹·è´</code>çš„ 3 ç§ç°æˆæ–¹æ³• ğŸ§</p><h4 id="3-ç§ç°æˆçš„å®ç°æ‹·è´çš„æ–¹æ³•"><a href="#3-ç§ç°æˆçš„å®ç°æ‹·è´çš„æ–¹æ³•" class="headerlink" title="3 ç§ç°æˆçš„å®ç°æ‹·è´çš„æ–¹æ³•"></a>3 ç§ç°æˆçš„å®ç°æ‹·è´çš„æ–¹æ³•</h4><h5 id="1-JSON-å¤§æ³•"><a href="#1-JSON-å¤§æ³•" class="headerlink" title="1. JSON å¤§æ³•"></a>1. JSON å¤§æ³•</h5><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span> jsonå¤§æ³•<br>/**<br> * ä¼˜ç‚¹ï¼šæœ€ç®€å•çš„å®ç°æ·±æ‹·è´çš„æ–¹å¼<br> * ç¼ºç‚¹ï¼š<br> * æ”¯æŒçš„æ•°æ®ç±»å‹ï¼šString<span class="hljs-regexp">/Number/</span>Boolean<span class="hljs-regexp">/Object/</span>Array/null<br> * ä¸æ”¯æŒçš„ç±»å‹ï¼š undefined<span class="hljs-regexp">/Symbol/</span>å¾ªç¯å¼•ç”¨<span class="hljs-regexp">/å‡½æ•°/</span>Date/RegExp<br> */<br><br> const obj1 = &#123;a: <span class="hljs-number">100</span>, b: &#123;key: <span class="hljs-string">&#x27;123&#x27;</span>&#125;&#125;<br> const obj2 = JSON.parse(JSON.stringify(obj1))<br>console.log(obj1 === obj2) <span class="hljs-regexp">//</span> false<br> ä¸ªäººè¯„ä»·ï¼šäº‹å®ä¸Šï¼Œ<span class="hljs-number">90</span>%çš„æƒ…å†µä¸‹ï¼Œä¸Šè¿°æ–¹æ³•å·²ç»å¤Ÿç”¨äº†ï¼Œä¸€èˆ¬ä¸æ”¯æŒçš„ç±»å‹è¿™ç§ç”¨å¾—å°‘...<br></code></pre></td></tr></table></figure><h5 id="2-Object-assign-â€“-gt-æµ…æ‹·è´"><a href="#2-Object-assign-â€“-gt-æµ…æ‹·è´" class="headerlink" title="2.Object.assign() â€“&gt; æµ…æ‹·è´"></a>2.Object.assign() â€“&gt; æµ…æ‹·è´</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> obj3 = &#123;<span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;å°æ˜&#x27;</span>, <span class="hljs-attr">sorce</span>: [<span class="hljs-number">88</span>, <span class="hljs-number">100</span>]&#125;<br><span class="hljs-keyword">var</span> obj4 = <span class="hljs-built_in">Object</span>.assign(&#123;&#125;, obj3)  <span class="hljs-comment">// obj1 ä¸ &#123;&#125; åˆå¹¶ï¼Œ å†…éƒ¨çš„å¼•ç”¨è¿˜æ˜¯ä¸€æ ·çš„</span><br><span class="hljs-built_in">console</span>.log(obj3 === obj4) <span class="hljs-comment">// false</span><br><br>ä¸ªäººè¯„ä»·ï¼š ç”¨æ³•æ–¹ä¾¿ç®€å•ï¼Œä½†æ˜¯æ³¨æ„æ˜¯æµ…æ‹·è´ï¼Œåœ¨åšä¸€äº›é¡¹ç›®çš„æ—¶å€™ï¼Œéœ€è¦æœ‰æ¸…æ™°çš„è„‘è¢‹çŸ¥é“è‡ªå·±æ˜¯åœ¨åšæ·±æ‹·è´è¿˜æ˜¯æµ…æ‹·è´<br></code></pre></td></tr></table></figure><h5 id="3-Lodash-åº“"><a href="#3-Lodash-åº“" class="headerlink" title="3.Lodash åº“"></a>3.Lodash åº“</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// _.clone     æµ…æ‹·è´</span><br><span class="hljs-comment">// _.deepclone æ·±æ‹·è´</span><br><span class="hljs-keyword">var</span> obj5 = &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;å°æ˜&#x27;</span>, <span class="hljs-attr">sorce</span>: [<span class="hljs-number">88</span>, <span class="hljs-number">100</span>]&#125;<br><span class="hljs-keyword">var</span> obj6 = _.cloneDeep(obj5);<br><span class="hljs-built_in">console</span>.log(obj5 === obj6)<br><br>ä¸ªäººè¯„ä»·ï¼š ä¸ç”¨è¯´ï¼Œç‰›é€¼ï¼<br></code></pre></td></tr></table></figure><hr><h4 id="æ·±æ‹·è´å®ç°"><a href="#æ·±æ‹·è´å®ç°" class="headerlink" title="æ·±æ‹·è´å®ç°"></a>æ·±æ‹·è´å®ç°</h4><h5 id="æœ¬å¥—æ·±æ‹·è´å®ç°æ–¹æ³•å‰ç½®çŸ¥è¯†"><a href="#æœ¬å¥—æ·±æ‹·è´å®ç°æ–¹æ³•å‰ç½®çŸ¥è¯†" class="headerlink" title="æœ¬å¥—æ·±æ‹·è´å®ç°æ–¹æ³•å‰ç½®çŸ¥è¯†"></a>æœ¬å¥—æ·±æ‹·è´å®ç°æ–¹æ³•å‰ç½®çŸ¥è¯†</h5><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span> obj1 ä¸ºä¸€ä¸ªæ™®é€šå¯¹è±¡<br>let obj1 = &#123;<br> name: <span class="hljs-string">&#x27;å¼ ä¸‰&#x27;</span>,<br> sex: <span class="hljs-string">&#x27;ç”·&#x27;</span>,<br> age: <span class="hljs-number">18</span>,<br> friends: [<span class="hljs-string">&#x27;å°æ˜&#x27;</span>, <span class="hljs-string">&#x27;å°ç‰&#x27;</span>, <span class="hljs-string">&#x27;å°èŒ&#x27;</span>]<br>&#125;<br><br><span class="hljs-regexp">//</span> åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ obj2<br>let obj2 = &#123;&#125;<br><span class="hljs-regexp">//</span> ä¾æ¬¡å°†obj1å¯¹è±¡é‡Œçš„å±æ€§èµ‹å€¼åˆ°obj2é‡Œ(æ³¨æ„ï¼Œè¦åˆ¤æ–­obj1é‡Œçš„å±æ€§æ˜¯æ™®é€šç±»å‹(å€¼ç±»å‹)è¿˜æ˜¯å¼•ç”¨ç±»å‹)<br><span class="hljs-regexp">//</span> å€¼ç±»å‹ ç›´æ¥å¤åˆ¶ã€‚å¦‚æœæ˜¯å¼•ç”¨ç±»å‹è¿˜éœ€è¦å†æ·±å±‚è¿›å…¥å¼•ç”¨ç±»å‹ä¸­æ‰¾åˆ°äººå®¶çš„å€¼ç±»å‹(é€’å½’å¤§æ³•)<br>obj2.name = obj1.name   <span class="hljs-regexp">//</span> æ˜¯å¦ä¸ºæ™®é€šç±»å‹<br>obj2.sex = obj1.sex     <span class="hljs-regexp">//</span> æ˜¯å¦ä¸ºæ™®é€šç±»å‹<br>obj2.age = obj1.age     <span class="hljs-regexp">//</span> æ˜¯å¦ä¸ºæ™®é€šç±»å‹<br>obj2.friends = obj1friends <span class="hljs-regexp">//</span> éå†å¾ªç¯obj1friendsã€‚è¿”å›æ–°çš„friends<br><br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs awk">/**<br> * æ•°æ®ç±»å‹<br> *<br> * typeof <span class="hljs-number">1</span>      <span class="hljs-regexp">//</span> <span class="hljs-string">&quot;number&quot;</span><br> * typeof <span class="hljs-string">&quot;a&quot;</span>    <span class="hljs-regexp">//</span> <span class="hljs-string">&quot;string&quot;</span><br> * typeof true   <span class="hljs-regexp">//</span> <span class="hljs-string">&quot;boolean&quot;</span><br> * typeof &#123;&#125;     <span class="hljs-regexp">//</span> <span class="hljs-string">&quot;object&quot;</span><br> * typeof []     <span class="hljs-regexp">//</span> <span class="hljs-string">&quot;object&quot;</span><br> * typeof null   <span class="hljs-regexp">//</span> <span class="hljs-string">&quot;object&quot;</span>   &lt;---  è¿™é‡Œå®¹æ˜“äº§ç”Ÿè¯¯ä¼š<br> * typeof undefined      <span class="hljs-regexp">//</span> <span class="hljs-string">&quot;undefined&quot;</span><br> * typeof <span class="hljs-keyword">function</span>()&#123;&#125;   <span class="hljs-regexp">//</span> <span class="hljs-string">&quot;function&quot;</span><br> * typeof Symbol()       <span class="hljs-regexp">//</span> <span class="hljs-string">&quot;symbol&quot;</span><br> *<br> *<br> * Object.prototype.toString.call(<span class="hljs-number">1</span>)         <span class="hljs-regexp">//</span> <span class="hljs-string">&#x27;[object Number]&#x27;</span><br> * Object.prototype.toString.call(<span class="hljs-string">&#x27;a&#x27;</span>)       <span class="hljs-regexp">//</span> <span class="hljs-string">&#x27;[object String]&#x27;</span><br> * Object.prototype.toString.call(true)      <span class="hljs-regexp">//</span> <span class="hljs-string">&#x27;[object Boolean]&#x27;</span><br> * Object.prototype.toString.call(&#123;&#125;)        <span class="hljs-regexp">//</span> <span class="hljs-string">&#x27;[object Object]&#x27;</span><br> * Object.prototype.toString.call([])        <span class="hljs-regexp">//</span> <span class="hljs-string">&#x27;[object Array]&#x27;</span><br> * Object.prototype.toString.call(null)      <span class="hljs-regexp">//</span> <span class="hljs-string">&#x27;[object Null]&#x27;</span><br> * Object.prototype.toString.call(<span class="hljs-regexp">/a/</span>)       <span class="hljs-regexp">//</span> <span class="hljs-string">&#x27;[object RegExp]&#x27;</span><br> * Object.prototype.toString.call(undefined) <span class="hljs-regexp">//</span> <span class="hljs-string">&#x27;[object Undefined]&#x27;</span><br> * Object.prototype.toString.call(<span class="hljs-keyword">function</span>()&#123;&#125;)  <span class="hljs-regexp">//</span> <span class="hljs-string">&#x27;[object Function]&#x27;</span><br> * Object.prototype.toString.call(new Date())    <span class="hljs-regexp">//</span> <span class="hljs-string">&#x27;[object Date]&#x27;</span><br> */<br></code></pre></td></tr></table></figure><h5 id="å¼€å§‹å®ç°æ·±æ‹·è´"><a href="#å¼€å§‹å®ç°æ·±æ‹·è´" class="headerlink" title="å¼€å§‹å®ç°æ·±æ‹·è´"></a>å¼€å§‹å®ç°æ·±æ‹·è´</h5><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">const</span> deepClone = <span class="hljs-function">(<span class="hljs-params">src</span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">let</span> <span class="hljs-keyword">type</span> = <span class="hljs-built_in">Object</span>.prototype.toString.call(src).slice(<span class="hljs-number">8</span>, -<span class="hljs-number">1</span>);<br>  <span class="hljs-keyword">let</span> dist = <span class="hljs-literal">null</span>;<br>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">type</span> === <span class="hljs-string">&#x27;Number&#x27;</span>) &#123;<br>    <span class="hljs-keyword">return</span> src;<br>  &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">type</span> === <span class="hljs-string">&#x27;String&#x27;</span>) &#123;<br>    <span class="hljs-keyword">return</span> src;<br>  &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">type</span> === <span class="hljs-string">&#x27;Boolean&#x27;</span>) &#123;<br>    <span class="hljs-keyword">return</span> src;<br>  &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">type</span> === <span class="hljs-string">&#x27;Object&#x27;</span>) &#123;<br>    dist = &#123;&#125;<br>  &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">type</span> === <span class="hljs-string">&#x27;Array&#x27;</span>) &#123;<br>    dist = []<br>  &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">type</span> === <span class="hljs-string">&#x27;Function&#x27;</span>) &#123;<br>    <span class="hljs-comment">// ... è¿™ä¸ªæŒºæœ‰å›°æƒ‘çš„</span><br>    dist = src.bind(<span class="hljs-built_in">this</span>);   <span class="hljs-comment">// ç”Ÿæˆäº†ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼ŒthisæŒ‡å‘çš„æ˜¯ä»€ä¹ˆ</span><br>  &#125;<br><br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> key <span class="hljs-keyword">in</span> src) &#123;<br>    dist[key] = deepClone(src[key]);<br>  &#125;<br>  <span class="hljs-keyword">return</span> dist;<br>&#125;<br><br><span class="hljs-keyword">let</span> obj1 = &#123;<br>  <span class="hljs-attr">a</span>: <span class="hljs-string">&#x27;100&#x27;</span>,<br>  <span class="hljs-attr">b</span>: <span class="hljs-string">&#x27;200&#x27;</span>,<br>  <span class="hljs-attr">c</span>: &#123;<span class="hljs-attr">d</span>: <span class="hljs-string">&#x27;300&#x27;</span>, <span class="hljs-attr">e</span>: &#123;<span class="hljs-attr">f</span>: <span class="hljs-string">&#x27;500&#x27;</span>&#125;&#125;,<br>  <span class="hljs-attr">fn</span>: <span class="hljs-function">() =&gt;</span> &#123;<span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;this is a function&#x27;</span>)&#125;<br>&#125;<br><br><span class="hljs-keyword">let</span> obj2 = deepClone(obj1);<br><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;obj1 === obj2 ?&#x27;</span>, obj1 === obj2);<br><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;obj2&#x27;</span>, obj2);<br><br></code></pre></td></tr></table></figure><head>  ..  <script src="//cdn.jsdelivr.net/npm/@waline/client"></script>  ...</head><body>  ...  <div id="waline"></div>  <script>    Waline({      el: '#waline',       avatar: 'monsterid',      serverURL: 'https://blog-api-9sizcti78-bruce-shuai.vercel.app/',    });  </script></body>]]></content>
    
    
    <categories>
      
      <category>JavaScript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JSON åŸºç¡€çŸ¥è¯† &amp; Ajax åŸºç¡€çŸ¥è¯†</title>
    <link href="/2021/10/08/JSON&amp;Ajax%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    <url>/2021/10/08/JSON&amp;Ajax%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/</url>
    
    <content type="html"><![CDATA[<h4 id="ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦æŠŠå¯¹è±¡è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦æŠŠå¯¹è±¡è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦æŠŠå¯¹è±¡è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ï¼Ÿ"></a>ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦æŠŠå¯¹è±¡è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ï¼Ÿ</h4><ol><li><p>åœ¨ç½‘é¡µå¼€å‘çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦æŠŠ<code>å¯¹è±¡ä¿¡æ¯</code>è¿›è¡Œé•¿æœŸä¿å­˜, å› æ­¤æˆ‘ä»¬éœ€è¦æŠŠè¿™äº›ä¿¡æ¯ä¼ é€’ç»™<code>æœåŠ¡å™¨</code>ã€‚æ‰€ä»¥ï¼Œéœ€è¦é€šè¿‡æŠŠå¯¹è±¡(å˜é‡)è½¬åŒ–ä¸ºå­—ç¬¦ä¸²æ‰èƒ½ä¼ é€’ç»™<code>æœåŠ¡å™¨</code>ã€‚</p></li><li><p>æˆ‘ä»¬é‡‡ç”¨çš„æ˜¯<code>httpåè®®</code>å³è¶…æ–‡æœ¬ä¼ è¾“åè®®(å…¶æœ¬è´¨å°±æ˜¯ç”±æ–‡æœ¬çš„å½¢å¼è¿›è¡Œä¼ è¾“)</p></li><li><p>JSON å­—ç¬¦ä¸²æ˜¯ç»å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€éƒ½æ”¯æŒçš„â€¦</p></li></ol><h4 id="JSON-å­—ç¬¦ä¸²çš„ç‰¹å¾"><a href="#JSON-å­—ç¬¦ä¸²çš„ç‰¹å¾" class="headerlink" title="JSON å­—ç¬¦ä¸²çš„ç‰¹å¾"></a>JSON å­—ç¬¦ä¸²çš„ç‰¹å¾</h4><ol><li><strong>å±æ€§åç§°</strong>å¿…é¡»åŠ <strong>åŒå¼•å·</strong> (å› ä¸ºäººå®¶é»˜è®¤è§„å®šçš„å­—ç¬¦ä¸²å¤–å±‚æ˜¯<code>å•å¼•å·</code>ï¼Œæ‰€ä»¥å†…å±‚å¿…é¡»æ˜¯<code>åŒå¼•å·</code>)</li><li><strong>å±æ€§å€¼</strong>å¦‚æœæ˜¯å­—ç¬¦ä¸²åˆ™å¿…é¡»åŠ <strong>åŒå¼•å·</strong></li><li>å¯¹è±¡å½“ä¸­çš„<code>æ–¹æ³•(å‡½æ•°)</code>ä¸ä¼šè¢«è½¬åŒ–ä¸ºå­—ç¬¦ä¸²</li></ol><p>(æ³¨æ„ï¼š JSON æœ¬è´¨å°±æ˜¯å­—ç¬¦ä¸²ï¼ï¼)</p><h4 id="JSON-å’Œ-å¯¹è±¡çš„ç›¸äº’è½¬æ¢ï¼š"><a href="#JSON-å’Œ-å¯¹è±¡çš„ç›¸äº’è½¬æ¢ï¼š" class="headerlink" title="JSON å’Œ å¯¹è±¡çš„ç›¸äº’è½¬æ¢ï¼š"></a>JSON å’Œ å¯¹è±¡çš„ç›¸äº’è½¬æ¢ï¼š</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> obj = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;xiaoming&#x27;</span>,<br>  <span class="hljs-attr">sex</span>: <span class="hljs-string">&#x27;boy&#x27;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,<br>  <span class="hljs-function"><span class="hljs-title">say</span>(<span class="hljs-params"></span>)</span> &#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;æƒ³åƒ, æƒ³å–, æƒ³çˆ±&#x27;</span>)<br>  &#125;<br>&#125;<br><br><span class="hljs-comment">// æŠŠå¯¹è±¡è½¬ä¸ºJSONå­—ç¬¦ä¸²</span><br><span class="hljs-keyword">let</span> str1 = <span class="hljs-built_in">JSON</span>.stringify(obj);<br><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;obj&#x27;</span>, obj);<br><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;str1&#x27;</span>, str1);   <span class="hljs-comment">// çº¯ç²¹çš„å­—ç¬¦ä¸²ä¸”æ²¡æœ‰sayæ–¹æ³•</span><br><br><span class="hljs-comment">// æŠŠæ•°ç»„è½¬ä¸ºJSONå­—ç¬¦ä¸²</span><br><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-number">100</span>, &#123;<span class="hljs-attr">key</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">obj</span>: &#123;&#125;, <span class="hljs-attr">str</span>: <span class="hljs-string">&#x27;æµ‹è¯•&#x27;</span>&#125;]<br><span class="hljs-keyword">let</span> str2 = <span class="hljs-built_in">JSON</span>.stringify(arr);<br><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;arr&#x27;</span>, arr);<br><span class="hljs-comment">// å†…éƒ¨çš„å­—ç¬¦ä¸²å…ƒç´ å…¨éƒ¨è¢«å¼ºåˆ¶è½¬åŒ–ä¸ºåŒå¼•å·,æ•°å€¼ä¸åŠ å¼•å·ï¼Œ</span><br><span class="hljs-comment">// å¯¹è±¡å…ƒç´ è¿›è¡Œæ·±å±‚æ”¹é€ (åŠ åŒå¼•å·..),è€Œä¸”ä¸å†æ˜¯å¯¹è±¡ï¼Œè€Œæ˜¯å­—ç¬¦ä¸²äº†...</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;str2&#x27;</span>, str2);<br></code></pre></td></tr></table></figure><figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs openscad"><span class="hljs-comment">// JSONå­—ç¬¦ä¸²è½¬æˆå¯¹è±¡</span><br><span class="hljs-comment">// JSON å­—ç¬¦ä¸²å¤–å±‚æ˜¯å•å¼•å·å“¦!!</span><br><span class="hljs-built_in">let</span> <span class="hljs-built_in">str</span> = &#x27;&#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;å°æ˜&quot;</span>, <span class="hljs-string">&quot;sex&quot;</span>: <span class="hljs-string">&quot;ç”·&quot;</span>, <span class="hljs-string">&quot;age&quot;</span>:<span class="hljs-number">18</span>&#125;&#x27;<br><span class="hljs-built_in">let</span> obj = JSON.parse(<span class="hljs-built_in">str</span>);<br>console.<span class="hljs-built_in">log</span>(&#x27;obj.name&#x27;, obj.name);   <span class="hljs-comment">// å°æ˜</span><br></code></pre></td></tr></table></figure><hr><h4 id="æ‰‹å†™-ajax-æ ¸å¿ƒæ–¹æ³•"><a href="#æ‰‹å†™-ajax-æ ¸å¿ƒæ–¹æ³•" class="headerlink" title="æ‰‹å†™ ajax æ ¸å¿ƒæ–¹æ³•"></a>æ‰‹å†™ ajax æ ¸å¿ƒæ–¹æ³•</h4><p>å“ˆå“ˆ, ä»¥ä¸è´Ÿè´£ä»»çš„æ€åº¦æ¥è¯´ ğŸ¤ª</p><blockquote><p><code>å‰ç«¯</code> æ˜¯ç”¨æ¥æ˜¾ç¤ºæ•°æ®çš„<br><code>åç«¯</code> æ˜¯ç”¨æ¥æä¾›æ•°æ®çš„</p></blockquote><p>æ‰€ä»¥ï¼Œå‰ç«¯æœ‰ä¸€ä¸ªéå¸¸é‡è¦çš„å·¥ä½œæ˜¯å‘åç«¯ç´¢è¦<code>æ•°æ®</code>å¹¶å°†æ•°æ®è¿›è¡Œé¡µé¢æ˜¾ç¤º</p><p>å¦‚ä½•å‘åç«¯ç´¢è¦æ•°æ®å‘¢ï¼Ÿ</p><h5 id="ä¹¦å†™-ajxa-4-ä¸ªæ ¸å¿ƒæ­¥éª¤"><a href="#ä¹¦å†™-ajxa-4-ä¸ªæ ¸å¿ƒæ­¥éª¤" class="headerlink" title="ä¹¦å†™ ajxa 4 ä¸ªæ ¸å¿ƒæ­¥éª¤"></a>ä¹¦å†™ ajxa 4 ä¸ªæ ¸å¿ƒæ­¥éª¤</h5><blockquote><p>4 ä¸ªæ­¥éª¤ï¼ä½†è¦æ³¨æ„æ‰§è¡Œé¡ºåºå“¦ï¼</p></blockquote><ol><li>åˆ›å»ºä¸€ä¸ªè¯·æ±‚å¯¹è±¡, js æä¾›çš„æ„é€ å‡½æ•° XMLHttpRequest(åˆ†å¼€è®°å¿†ï¼šXML Http Request)</li></ol><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-keyword">let</span> xhr = <span class="hljs-keyword">new</span> <span class="hljs-constructor">XMLHttpRequest()</span><br></code></pre></td></tr></table></figure><ol start="2"><li><p>è®¾ç½®è¯·æ±‚çš„æ•°æ®å¾—åˆ°è¿”å›æ—¶çš„å¤„ç†å‡½æ•°</p><blockquote><p>xhr.onloadend(åˆ†å¼€è®°å¿†ï¼šon load end) â€“&gt; æ‰§è¡Œæ–¹å¼æœ‰ç‚¹ç±»ä¼¼ onclick è¿™ç±»å‡½æ•°</p></blockquote></li></ol><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs awk">xhr.onloadend = <span class="hljs-keyword">function</span>() &#123;<br>  <span class="hljs-regexp">//</span> è¯¥æ•°æ®å…¨æ˜¯æœåŠ¡å™¨è¿”å›çš„jsonå­—ç¬¦ä¸²<br>  <span class="hljs-regexp">//</span> è¯·æ±‚çš„æ•°æ®æ”¾åœ¨å“ªäº†ï¼Ÿè¯·æ±‚çš„æ•°æ®å…¶å®æ”¾åœ¨äº†è¯·æ±‚å¯¹è±¡ä¸Šé¢<br>  xhr.responseText<br>  <span class="hljs-regexp">//</span> è¿›è¡Œè½¬åŒ–<br>  let stus = JSON.parse(xhr.responseText)<br>&#125;<br></code></pre></td></tr></table></figure><ol start="3"><li>è®¾ç½®è¯·æ±‚ä¿¡æ¯</li></ol><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs awk">å‘è°è¯·æ±‚ï¼š<br>ä¾‹å¦‚ http:<span class="hljs-regexp">//</span>www.jd.comã€http:<span class="hljs-regexp">//</span>www.baidu.com<br>xhr.open(<span class="hljs-string">&#x27;GET&#x27;</span>, <span class="hljs-string">&#x27;https://jsonplaceholder.typicode.com/todos&#x27;</span>)<br></code></pre></td></tr></table></figure><ol start="4"><li>å‘é€è¯·æ±‚</li></ol><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs autoit">xhr.<span class="hljs-built_in">send</span>()<br></code></pre></td></tr></table></figure><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-comment">// æ•´ä½“æ“ä½œå¦‚ä¸‹ï¼š</span><br><br><span class="hljs-keyword">let</span> xhr = <span class="hljs-keyword">new</span> <span class="hljs-constructor">XMLHttpRequest()</span>;<br>xhr.oploadend = <span class="hljs-keyword">function</span><span class="hljs-literal">()</span> &#123;<br>  <span class="hljs-keyword">let</span> stus = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">JSON</span>.</span></span>parse(xhr.responseTest)<br>  show<span class="hljs-constructor">Table(<span class="hljs-params">stus</span>)</span><br>&#125;<br>xhr.<span class="hljs-keyword">open</span>(&#x27;get&#x27;, &#x27;https:<span class="hljs-comment">//jsonplaceholder.typicode.com/todos&#x27;);</span><br>xhr.send<span class="hljs-literal">()</span>;<br></code></pre></td></tr></table></figure><head>  ..  <script src="//cdn.jsdelivr.net/npm/@waline/client"></script>  ...</head><body>  ...  <div id="waline"></div>  <script>    Waline({      el: '#waline',       avatar: 'monsterid',      serverURL: 'https://blog-api-9sizcti78-bruce-shuai.vercel.app/',    });  </script></body>]]></content>
    
    
    <categories>
      
      <category>JavaScript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸€ç¯‡æ–‡ç« è§£å†³Promise...thenï¼Œasync/awaitæ‰§è¡Œé¡ºåºç±»å‹é¢˜</title>
    <link href="/2021/10/08/%E4%B8%80%E7%AF%87%E6%96%87%E7%AB%A0%E8%A7%A3%E5%86%B3Promise-then%EF%BC%8Casync-await%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F%E7%B1%BB%E5%9E%8B%E9%A2%98/"/>
    <url>/2021/10/08/%E4%B8%80%E7%AF%87%E6%96%87%E7%AB%A0%E8%A7%A3%E5%86%B3Promise-then%EF%BC%8Casync-await%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F%E7%B1%BB%E5%9E%8B%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘æˆ‘åœ¨æ²¸ç‚¹é‡Œæ‘¸é±¼çš„æ—¶å€™ï¼Œå‘ç°äº†ä¸€äº›æ˜å‹åœ¨ä¸çº¦è€ŒåŒçš„è®¨è®ºä¸€ç§ç±»å‹çš„é¢˜ï¼Œå³ Promiseâ€¦then, async/await æ‰§è¡Œé¡ºåºç±»å‹çš„é¢˜ã€‚</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/61f40af93cec47d281efaa67db337670~tplv-k3u1fbpfcp-watermark.image" alt="æˆªå±2021-06-10 ä¸‹åˆ10.18.25.png"></p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fdb16e753c6742ae94f531022a41d789~tplv-k3u1fbpfcp-watermark.image" alt="æˆªå±2021-06-10 ä¸‹åˆ10.16.31.png"><br>æ°å¥½ï¼Œåœ¨å‰ä¸€æ®µæ—¶é—´æˆ‘å¯¹æ­¤ç§ç±»å‹çš„é¢˜æœ‰æ‰€ç ”ç©¶ ğŸ“ƒã€‚å› æ­¤ï¼Œæˆ‘ä¹Ÿæƒ³è¶è¿™ä¸ªæœºä¼šçœ‹çœ‹æ˜¯å¦èƒ½æŠŠè¿™ç§ç±»å‹çš„é¢˜è®²è¿°æ¸…æ¥šã€‚</p><p>åºŸè¯å°±ä¸å¤šè¯´äº†ï¼Œå…ˆå‡ºå‡ é“é¢˜ï¼Œå¤§ä¼™è¯•è¯•çœ‹ï¼Œèƒ½ä¸èƒ½æŠŠè¿™å‡ é“é¢˜åšå‡ºæ¥ï¼<br>ï¼ˆæ³¨ï¼šä»¥ä¸‹é¢˜ç›®éƒ½æ˜¯ä»ç½‘ä¸Šä»¥åŠæ˜å‹å‘çš„æ²¸ç‚¹é‡Œè·å–çš„ï¼‰</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript">é¢˜ç›®ä¸€ï¼š<br><span class="hljs-built_in">console</span>.log(<span class="hljs-number">100</span>);<br><span class="hljs-built_in">setTimeout</span>(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-number">200</span>);<br>&#125;)<br><span class="hljs-built_in">Promise</span>.resolve().<span class="hljs-keyword">then</span>(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-number">300</span>);<br>&#125;)<br><span class="hljs-built_in">console</span>.log(<span class="hljs-number">400</span>);<br>æ±‚æ‰“å°ç»“æœï¼š<br></code></pre></td></tr></table></figure><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript">é¢˜ç›®äºŒï¼š<br><span class="hljs-built_in">Promise</span>.resolve().<span class="hljs-keyword">then</span>(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-number">1</span>);<br>  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">&#x27;error1&#x27;</span>)<br>&#125;).<span class="hljs-keyword">catch</span>(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-number">2</span>);<br>&#125;).<span class="hljs-keyword">then</span>(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-number">3</span>);<br>&#125;)<br>æ±‚æ‰“å°ç»“æœï¼š<br></code></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs javascript">é¢˜ç›®ä¸‰ï¼š<br><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">async1</span> (<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;async1 start&#x27;</span>);<br>  <span class="hljs-keyword">await</span> async2();<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;async1 end&#x27;</span>);<br>&#125;<br><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">async2</span> (<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;async2&#x27;</span>);<br>&#125;<br><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;script start&#x27;</span>);<br><span class="hljs-built_in">setTimeout</span>(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;setTimeout&#x27;</span>);<br>&#125;, <span class="hljs-number">0</span>)<br>async1()<br><span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span> (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">resolve</span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;promise1&#x27;</span>)<br>  resolve()<br>&#125;).then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;promise2&#x27;</span>)<br>&#125;)<br><br><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;script end&#x27;</span>)<br>æ±‚æ‰“å°ç»“æœï¼š<br></code></pre></td></tr></table></figure><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript">é¢˜ç›®å››ï¼š<br><span class="hljs-built_in">setTimeout</span>(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;0&#x27;</span>);<br>&#125;, <span class="hljs-number">0</span>)<br><span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function"><span class="hljs-params">(resolve, reject)</span> =&gt;</span> &#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;1&#x27;</span>);<br>  resolve();<br>&#125;).<span class="hljs-keyword">then</span>(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;2&#x27;</span>);<br>  <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function"><span class="hljs-params">(resolve, reject)</span> =&gt;</span> &#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;3&#x27;</span>);<br>    resolve();<br>  &#125;).<span class="hljs-keyword">then</span>(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;4&#x27;</span>);<br>  &#125;).<span class="hljs-keyword">then</span>(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;5&#x27;</span>);<br>  &#125;)<br>&#125;).<span class="hljs-keyword">then</span>(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;6&#x27;</span>);<br>&#125;)<br><br><span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function"><span class="hljs-params">(resolve, reject)</span> =&gt;</span> &#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;7&#x27;</span>);<br>  resolve()<br>&#125;).<span class="hljs-keyword">then</span>(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;8&#x27;</span>);<br>&#125;)<br>æ±‚æ‰“å°ç»“æœï¼š<br></code></pre></td></tr></table></figure><p>ä¸çŸ¥é“å¤§å®¶å¯¹äºä¸Šé¢å››é“é¢˜æ˜¯å¦æ„Ÿè§‰æœ‰ç‚¹æ¶å¿ƒï¼Ÿå“ˆå“ˆï¼Œå¦‚æœæ„Ÿåˆ°æ¶å¿ƒï¼Œå°±å¯¹äº†ï¼è·Ÿç€è¿™ç¯‡æ–‡ç« èµ°ï¼Œç›¸ä¿¡å¤§å®¶åœ¨æ–‡ç« çœ‹å®Œä¹‹åèƒ½è½»æ¾è§£å†³ä¸Šé¢çš„å‡ é“é¢˜ï¼</p><p>åºŸè¯ä¸å¤šè¯´ï¼Œå¦‚æœæœ‰å…´è¶£å°±æ¥ç€å¾€ä¸‹çœ‹å§ï¼</p><hr><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦çŸ¥é“è¿™ç±»é¢˜å‹å®è´¨æ˜¯åœ¨è€ƒå¯Ÿä»¥ä¸‹å‡ ä¸ªå†…å®¹</p><ul><li>å¼‚æ­¥</li><li>event loop æ‰§è¡Œæœºåˆ¶</li><li>Promise è¯­æ³•</li><li>async/await è¯­æ³•</li><li>å®ä»»åŠ¡ã€å¾®ä»»åŠ¡</li></ul><p>å…¶å®ï¼ŒæŒæ¡äº†ä¸Šè¿°çš„äº”ä¸ªå†…å®¹ï¼Œæ— è®ºè¿™ç±»é¢˜å‹æ€ä¹ˆå˜ï¼Œä½ éƒ½èƒ½å°†é¢˜ç©äºè‚¡æŒä¹‹é—´(ä»–å¼ºä»»ä»–å¼ºï¼Œæ¸…é£æ‹‚å±±å²—)ã€‚</p><h3 id="å¼‚æ­¥"><a href="#å¼‚æ­¥" class="headerlink" title="å¼‚æ­¥"></a>å¼‚æ­¥</h3><p>ç”±äºèƒ½å¼€å§‹æ€è€ƒè¿™é“é¢˜çš„å…„å¼Ÿï¼Œæƒ³å¿…è¿˜æ˜¯æœ‰ä¸€å®šçš„ JS åŸºç¡€ã€‚æ‰€ä»¥æˆ‘ä¹Ÿä¸å†ç»†è®²å•¥æ˜¯å¼‚æ­¥ã€ä»¥åŠ event loop æ‰§è¡Œæœºåˆ¶äº†(è¿™ç±»åšæ–‡ç½‘ä¸Šä¸€æŠ“ä¸€å¤§æŠŠ~)ã€‚æˆ‘åªç®€å•åˆ†äº«ä¸€ä¸‹æˆ‘å¯¹äºå¼‚æ­¥çš„ä¸€äº›æ„Ÿæ‚Ÿï¼š</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript"><span class="hljs-number">1</span>ã€å¼‚æ­¥æ˜¯ç”¨æ¥è§£å†³JSå•çº¿ç¨‹ç­‰å¾…è¿™ç§é—®é¢˜çš„<br><span class="hljs-number">2</span>ã€å¼‚æ­¥æ˜¯åŸºäºå›è°ƒå‡½æ•°çš„å½¢å¼æ¥å®ç°çš„<br><span class="hljs-number">3</span>ã€å¸¸è§çš„å¼‚æ­¥æœ‰ï¼š<span class="hljs-built_in">setTimeout</span>ã€ajaxã€<span class="hljs-built_in">Promise</span>â€¦â€¦<span class="hljs-keyword">then</span>ã€<span class="hljs-keyword">async</span>/<span class="hljs-keyword">await</span>ã€å›¾ç‰‡åŠ è½½ã€ç½‘ç»œè¯·æ±‚èµ„æº<br><span class="hljs-number">4</span>ã€ç‰¢è®°<span class="hljs-number">5</span>ä¸ªç‰ˆå—  Call Stackã€ Web APIsã€ Browser <span class="hljs-built_in">console</span>ã€ Callback Queue<br>ã€ micro task queue è¿™äº”ä¸ªç‰ˆå—é€éœ²å‡ºå¼‚æ­¥çš„æ‰§è¡Œè¿‡ç¨‹<br><span class="hljs-number">5</span>ã€å®ä»»åŠ¡æ˜¯åœ¨DOMæ¸²æŸ“åè§¦å‘ï¼Œå¾®ä»»åŠ¡æ˜¯åœ¨DOMæ¸²æŸ“å‰è§¦å‘<br></code></pre></td></tr></table></figure><h3 id="Promiseã€-Async-await"><a href="#Promiseã€-Async-await" class="headerlink" title="Promiseã€ Async/await"></a>Promiseã€ Async/await</h3><p>å¾ˆå¤šè®²<code>Promise</code>çš„æ–‡ç« éƒ½è¯´è¿‡ï¼Œ<code>Promise</code>çš„å‡ºç°æ˜¯ä¸ºäº†è§£å†³è‡­åæ˜­è‘—çš„<code>callback hell</code>ã€‚ç”±äºå¼‚æ­¥æ˜¯åŸºäºå›è°ƒå‡½æ•°çš„å½¢å¼æ¥å®ç°çš„ï¼Œé‚£ä¹ˆå¼‚æ­¥å°±ç¦»ä¸å¼€å›è°ƒå‡½æ•°ã€‚ä½†åœ¨ä¸Šå¤æ—¶æœŸï¼Œåäººç±»çš„åµŒå¥—å›è°ƒè®©è€ä¸€è¾ˆçš„ç¨‹åºå‘˜ä»¬è‹¦ä¸å ªè¨€â€¦è€Œ Promise æ­é… then å±•ç°çš„ç®¡é“å¼å›è°ƒå‡½æ•°ï¼Œè®©å¼‚æ­¥æ›´ç›´è§‚ã€æ›´ä¼˜é›…çš„å±•ç°å‡ºæ¥ï¼Œå¹¿å—å¤§å®¶å¥½è¯„ï¼</p><p>è€Œ<code>async/await</code> æ˜¯ ECMAScript 2017 æå‡ºçš„å†…å®¹ã€‚ä½†äº‹å®ä¸Šå®ƒä»¬åªæ˜¯<code>Promise</code>çš„è¯­æ³•ç³–ï¼Œä½†è¿™é¢— ğŸ¬ è´¼ç”œï¼</p><p>é’ˆå¯¹<code>Promise</code>ä»¥åŠ<code>async/await</code>çš„éªšç”¨æ³•ï¼Œæˆ‘æƒ³å°è¯•ç”¨åƒå±‚é¥¼çš„å¥—è·¯æ¥è®²è®²~</p><h5 id="ç¬¬ä¸€å±‚ï¼š"><a href="#ç¬¬ä¸€å±‚ï¼š" class="headerlink" title="ç¬¬ä¸€å±‚ï¼š"></a>ç¬¬ä¸€å±‚ï¼š</h5><p>Promise æ˜¯ä¸€ä¸ªç±»ï¼ˆå‡½æ•°ï¼‰ï¼Œæ¥å—ä¸€ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå¹¶ä¸”è¿™ä¸ªå›è°ƒå‡½æ•°çš„å‚æ•°ä¹Ÿæœ‰ä¸¤ä¸ªï¼Œè¿™ä¸¤ä¸ªå‚æ•°çº¦å®šä¿—æˆè¢«å‘½åä¸º <code>resolve</code>, <code>reject</code></p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript"><span class="hljs-built_in">Promise</span>(<span class="hljs-function"><span class="hljs-params">(resolve, reject)</span> =&gt;</span> &#123;<br>    ...<br>&#125;)<br></code></pre></td></tr></table></figure><h5 id="ç¬¬äºŒå±‚ï¼š"><a href="#ç¬¬äºŒå±‚ï¼š" class="headerlink" title="ç¬¬äºŒå±‚ï¼š"></a>ç¬¬äºŒå±‚ï¼š</h5><p><code>resolve</code>, <code>reject</code>è¿™ä¸¤ä¸ªå‚æ•°å…¶å®ä¹Ÿéƒ½æ˜¯å‡½æ•°</p><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs gcode">Promise<span class="hljs-comment">((resolve, reject)</span> =&gt; &#123;<br>    <span class="hljs-keyword">if</span> <span class="hljs-comment">(...)</span> &#123;<br>        resolve<span class="hljs-comment">(...)</span>;     <span class="hljs-comment">// æ‰§è¡Œresolveå‡½æ•°</span><br>    &#125; else &#123;<br>        reject<span class="hljs-comment">(...)</span>;      <span class="hljs-comment">// æ‰§è¡Œrejectå‡½æ•°</span><br>    &#125;<br>&#125;)<br></code></pre></td></tr></table></figure><h5 id="ç¬¬ä¸‰å±‚ï¼š"><a href="#ç¬¬ä¸‰å±‚ï¼š" class="headerlink" title="ç¬¬ä¸‰å±‚ï¼š"></a>ç¬¬ä¸‰å±‚ï¼š</h5><p>å¯¹äºç´§è·Ÿ Promise å®ä¾‹çš„<code>then</code>ï¼Œå…¶å‚æ•°ç­‰äº<code>resolve</code>æ¥å—çš„å‚æ•°ï¼›ç´§è·Ÿ Promise å®ä¾‹çš„<code>catch</code>ï¼Œå…¶å‚æ•°ç­‰äº<code>reject</code>æ¥å—çš„å‚æ•°ã€‚</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript">const p1 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function"><span class="hljs-params">(resolve)</span> =&gt;</span> &#123;    <span class="hljs-regexp">//</span> pä¸º<span class="hljs-built_in">Promise</span>å®ä¾‹<br>    const a = <span class="hljs-number">100</span>;<br>    resolve(a);<br>&#125;)<br><br>p1.<span class="hljs-keyword">then</span>(<span class="hljs-function"><span class="hljs-params">(param)</span> =&gt;</span> &#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;param:&#x27;</span>, param);      <span class="hljs-regexp">//</span> param: <span class="hljs-number">100</span><br>&#125;)<br><br>const p2 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function"><span class="hljs-params">(resolve, reject)</span> =&gt;</span> &#123;<br>    const a = <span class="hljs-number">100</span>;<br>    reject(a);<br>&#125;)<br><br>p2.<span class="hljs-keyword">catch</span>(<span class="hljs-function"><span class="hljs-params">(param)</span> =&gt;</span> &#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;param&#x27;</span>, param);<br>&#125;)<br><br></code></pre></td></tr></table></figure><h5 id="ç¬¬å››å±‚ï¼š"><a href="#ç¬¬å››å±‚ï¼š" class="headerlink" title="ç¬¬å››å±‚ï¼š"></a>ç¬¬å››å±‚ï¼š</h5><p>Promise çš„å®ä¾‹æœ‰ä¸‰ç§çŠ¶æ€ï¼š <code>pending(åŠ è½½ä¸­)</code>ã€<code>fulfilled(æ‰§è¡ŒæˆåŠŸ)</code>ã€<code>rejected(æ‰§è¡Œé”™è¯¯)</code>ã€‚å…¶å®æˆ‘ä»¬å¾ˆå¥½ç†è§£è¿™ä¸‰ç§çŠ¶æ€ï¼Œå› ä¸ºå®ƒä»¬æ°å¥½å¯¹åº”äº†<code>å¼‚æ­¥æ­£åœ¨æ‰§è¡Œ</code>å’Œ<code>å¼‚æ­¥æ‰§è¡Œå®Œçš„ç»“æœ</code>(æ— éæˆåŠŸæˆ–å¤±è´¥ä¸¤ç§çŠ¶æ€)è¿™ä¸‰ç§çŠ¶æ€</p><p>ä¸‰ç§çŠ¶æ€çš„è¡¨ç°ï¼š</p><ul><li>pending: Promise å®ä¾‹å¤„äº<code>pending</code>çŠ¶æ€æ—¶ï¼Œä¸ä¼šè§¦å‘ then å’Œ catchã€‚</li><li>fufilled: Promise å®ä¾‹å¤„äº<code>fulfilled</code>çŠ¶æ€æ—¶ï¼Œåªä¼šè§¦å‘ then(ä¸ä¼šè§¦å‘ catch)</li><li>rejectedï¼š Promise å®ä¾‹å¤„äº<code>rejected</code>çŠ¶æ€æ—¶ï¼Œåªä¼šè§¦å‘ catch(ä¸ä¼šè§¦å‘ then)</li></ul><p>(æ— è®ºæ˜¯ then è¿˜æ˜¯ catchï¼Œå®ƒä»¬é‡Œé¢éƒ½æ˜¯å›è°ƒå‡½æ•°)</p><p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå¦‚ä½•åˆ¤æ–­ Promise å®ä¾‹å¯¹è±¡æ˜¯å¤„äºé‚£ç§çŠ¶æ€å‘¢ï¼Ÿ</p><p>å¾ˆç®€å•ï¼Œçœ‹ä¸‹é¢ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> p = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>  <span class="hljs-comment">// å•¥ä¹Ÿæ²¡æœ‰åš~</span><br>&#125;)<br><br><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;p&#x27;</span>, p);<br></code></pre></td></tr></table></figure><p>Chrome æ§åˆ¶å°æ˜¾ç¤ºç»“æœå¦‚ä¸‹å›¾ï¼š</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a40d9c5af8794683b9660bd378bd0316~tplv-k3u1fbpfcp-watermark.image" alt="æˆªå±2021-06-12 ä¸‹åˆ9.00.33.png"></p><p>æˆªå›¾è¯´æ˜äº†æ­¤æ—¶çš„ Promise å®ä¾‹æ˜¯å¤„äº<code>pending</code>çŠ¶æ€çš„ã€‚å…¶å®ï¼Œå½“ Promise å†…éƒ¨çš„å›è°ƒä¸æ‰§è¡Œ<code>resolve</code>æˆ–<code>reject</code>çš„æ—¶å€™ï¼ŒPromise å®ä¾‹å°±å¤„äº<code>pending</code>çŠ¶æ€ï¼</p><p>å†çœ‹ä¸‹é¢çš„ä»£ç  ğŸ‘‡ğŸ»</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"> <span class="hljs-keyword">const</span> p1 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> &#123;    <span class="hljs-comment">// p1ä¸ºPromiseå®ä¾‹</span><br>     <span class="hljs-keyword">const</span> a = <span class="hljs-number">100</span>;<br>     resolve(a);<br> &#125;)<br><br><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;p1&#x27;</span>, p1)    <span class="hljs-comment">// fulfilled</span><br><br> <span class="hljs-keyword">const</span> p2 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>     <span class="hljs-keyword">const</span> a = <span class="hljs-number">100</span>;<br>     reject(a);<br> &#125;)<br><br><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;p2&#x27;</span>, p2)    <span class="hljs-comment">// rejected</span><br></code></pre></td></tr></table></figure><p>Chrome æ§åˆ¶å°æ˜¾ç¤ºç»“æœå¦‚ä¸‹å›¾ï¼š<br><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/508e710a9a0847d69cc13e1f79e03ef7~tplv-k3u1fbpfcp-watermark.image" alt="æˆªå±2021-06-12 ä¸‹åˆ9.03.58.png"></p><p>è¿™é‡Œçš„ä»£ç æ˜¯å€Ÿç”¨çš„ç¬¬ä¸‰å±‚çš„ä»£ç ï¼Œå…¶å®çœ‹åˆ°è¿™å„¿å°±è§£é‡Šäº†ç¬¬ä¸‰å±‚çš„å¥—è·¯ã€‚å¯¹äºç¬¬ä¸€ä¸ª Promise å®ä¾‹æ‰§è¡Œå‚æ•°<code>resolve</code>å°±ä»£è¡¨äº†ï¼Œå½“å‰ Promise å®ä¾‹å¯¹è±¡çš„çŠ¶æ€ä¸º<code>fulfilled</code>ï¼Œå› æ­¤æ¥ä¸‹æ¥å¯ä»¥è§¦å‘ thenï¼Œä»¥åŠå¯¹åº”çš„å›è°ƒã€‚å¦‚æœ Promise å®ä¾‹å¯¹è±¡æ‰§è¡Œäº†<code>reject</code>ï¼Œåˆ™å®ä¾‹å¯¹è±¡çš„çŠ¶æ€å˜ä¸ºäº† <code>rejected</code>ï¼Œå¯ä»¥è§¦å‘ catch~ æœ‰å…´è¶£çš„å°ä¼™ä¼´å¯ä»¥è¯•è¯•ï¼Œåœ¨<code>fulfilled</code>çŠ¶æ€æ‰§è¡Œä¸‹ catch æˆ–è€…åœ¨<code>rejected</code>çŠ¶æ€ä¸‹æ‰§è¡Œä¸‹ thenï¼Œè¯•è¯•èƒ½å¦æ‰§è¡Œä»£ç æˆåŠŸã€‚</p><h5 id="ç¬¬äº”å±‚ï¼š"><a href="#ç¬¬äº”å±‚ï¼š" class="headerlink" title="ç¬¬äº”å±‚ï¼š"></a>ç¬¬äº”å±‚ï¼š</h5><p>åœ¨ç¬¬äº”å±‚æœ‰ 3 å¥è‡³ç†åè¨€éœ€è¦çŸ¥é“(ä¸éœ€è¦å»æ­»è®°ç¡¬èƒŒï¼Œä¸‹é¢æˆ‘ä¼šç”¨ä¾‹å­å¸®åŠ©ä½ ç†è§£)</p><blockquote><p>æ— è®ºæ˜¯ then è¿˜æ˜¯ catch é‡Œçš„å›è°ƒå†…å®¹åªè¦ä»£ç æ­£å¸¸æ‰§è¡Œæˆ–è€…æ­£å¸¸è¿”å›ï¼Œåˆ™å½“å‰æ–°çš„ Promise å®ä¾‹ä¸º fulfilled çŠ¶æ€ã€‚å¦‚æœæœ‰æŠ¥é”™æˆ–è¿”å› Promise.reject()åˆ™æ–°çš„ Promise å®ä¾‹ä¸º rejected çŠ¶æ€ã€‚</p></blockquote><blockquote><p>fulfilled çŠ¶æ€èƒ½å¤Ÿè§¦å‘ then å›è°ƒ</p></blockquote><blockquote><p>rejected çŠ¶æ€èƒ½å¤Ÿè§¦å‘ catch å›è°ƒ</p></blockquote><p>ä¸¾ä¾‹ä¹‹å‰æˆ‘å…ˆè¡¥å……ä¸€ä¸ªå°çŸ¥è¯†ï¼</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript"><span class="hljs-built_in">Promise</span>.resolve()  è¡¨ç¤ºä¸€ä¸ªfulfilledçŠ¶æ€çš„<span class="hljs-built_in">Promise</span>å®ä¾‹<br><span class="hljs-built_in">Promise</span>.reject()   è¡¨ç¤ºä¸€ä¸ªrejectedçŠ¶æ€çš„<span class="hljs-built_in">Promise</span>å®ä¾‹<br></code></pre></td></tr></table></figure><p>å¥½ï¼Œæˆ‘å°†æ”¾ç è¿‡æ¥ï¼</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript">é¢˜ç›®ä¸€ï¼š<br><span class="hljs-built_in">Promise</span>.resolve().<span class="hljs-keyword">then</span>(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-number">1</span>);<br>&#125;).<span class="hljs-keyword">catch</span>(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-number">2</span>);<br>&#125;).<span class="hljs-keyword">then</span>(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-number">3</span>);<br>&#125;)<br></code></pre></td></tr></table></figure><p>åˆçœ‹æ­¤é¢˜ï¼Œæ„Ÿè§‰ä¼¼ä¹æ­¤é¢˜æœ‰ç‚¹éš¾åº¦~ ä¸è¿‡ï¼Œç»“åˆæˆ‘çš„ä¸‰å¥è‡³ç†åè¨€ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥åˆ†æä¸€ä¸‹æ­¤é¢˜ï¼ï¼</p><p><code>Promise.resolve()</code> æ˜¯ä¸€ä¸ªçŠ¶æ€ä¸º<code>fulfilled</code>çŠ¶æ€çš„ Promise å®ä¾‹ã€‚<code>fulfilled</code>çŠ¶æ€èƒ½å¤Ÿè§¦å‘ then å›è°ƒã€‚å› æ­¤ï¼Œç¬¬ä¸€ä¸ª then ä¼šè¢«æ‰§è¡Œï¼Œå¹¶ä¸”èƒ½å¤Ÿé¡ºåˆ©æ‰“å°ç»“æœè€Œä¸æŠ¥é”™ï¼æ•… Promise.resolve().then(() =&gt; {console.log(1)}) è¿™ä¸ªæ–°çš„ Promise å®ä¾‹ä¸º<code>fulfilled</code>çŠ¶æ€ï¼Œæ‰€ä»¥å¯ä»¥è§¦å‘ä¸‹ä¸€ä¸ª thenï¼Œä½†æ˜¯æ— æ³•è§¦å‘ catchï¼Œæ•… catch çš„å†…å®¹å¿½ç•¥ï¼Œä»è€Œæ‰§è¡Œç¬¬äºŒä¸ª then çš„å†…å®¹ã€‚ æ‰€ä»¥ï¼Œæ­¤é¢˜çš„æ‰“å°ç»“æœä¸ºï¼š 1 3</p><p>å¥½äº†ï¼Œä¸‹é¢å†æ¥çœ‹çœ‹ç¬¬äºŒé¢˜(æ­¤é¢˜ä¹Ÿæ˜¯æ–‡ç« å¼€å¤´å‡ºçš„ç¬¬äºŒé¢˜)ï¼š</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript"><span class="hljs-built_in">Promise</span>.resolve().<span class="hljs-keyword">then</span>(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">&#x27;error1&#x27;</span>);<br>&#125;).<span class="hljs-keyword">catch</span>(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-number">2</span>);<br>&#125;).<span class="hljs-keyword">then</span>(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-number">3</span>)<br>&#125;)<br></code></pre></td></tr></table></figure><p>æœ‰äº†ä¸Šä¸€é¢˜çš„ç»éªŒï¼Œåšè¿™ä¸€é“é¢˜å°±è½»æ¾å¾ˆå¤šäº†~ Promise.resolve()æ˜¯ä¸€ä¸ª<code>fulfilled</code>çŠ¶æ€çš„å®ä¾‹ï¼Œæ‰€ä»¥å¯ä»¥è§¦å‘ thenï¼Œè€Œç¬¬ä¸€ä¸ª then ä¹‹ä¸­æœ‰ throw new Error(â€˜error1â€™) è¿™ç§æŠ¥é”™æ“ä½œï¼Œåˆ™ Promise.resolve.then(() =&gt; {<br>console.log(1);<br>throw new Error(â€˜error1â€™)<br>})å°±æ˜¯ä¸€ä¸ª<code>rejected</code>çŠ¶æ€çš„ Promise å®ä¾‹ï¼Œæ‰€ä»¥å¯ä»¥è§¦å‘ catchï¼Œcatch çš„å†…å®¹æ˜¯å¯ä»¥æ­£å¸¸æ‰§è¡Œçš„ï¼Œæ²¡æœ‰æŠ¥é”™è¯¯ï¼Œåˆ™ Promise.resolve().then(â€¦).catch(â€¦)æ˜¯ä¸€ä¸ª<code>fulfilled</code>çŠ¶æ€çš„ Promise å®ä¾‹ï¼Œå¯ä»¥è§¦å‘ thenï¼Œæ•… then çš„å†…å®¹èƒ½å¤Ÿè¢«æ‰§è¡Œã€‚</p><p>æ•…ä»£ç ç»“æœä¸ºï¼š 1 2 3</p><h5 id="ç¬¬å…­å±‚ï¼š"><a href="#ç¬¬å…­å±‚ï¼š" class="headerlink" title="ç¬¬å…­å±‚ï¼š"></a>ç¬¬å…­å±‚ï¼š</h5><p>åšäº†å‰é¢ä¸¤é“é¢˜ï¼Œä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰ä¸€ç‚¹å›°æƒ‘ã€‚æ„Ÿè§‰æˆ‘ä¼¼ä¹æœ‰æ„å›é¿äº† thenã€catch çš„è¿”å›å€¼å³(return â€¦),è€Œä¸”ä¹Ÿæ²¡æœ‰åœ¨ thenã€catch é‡Œå†™å…·ä½“çš„å‚æ•°ã€‚å¯¼è‡´æˆ‘åœ¨ç¬¬äº”å±‚çš„ç¬¬ä¸€å¥è‡³ç†åè¨€â€œæ— è®ºæ˜¯ then æˆ–è€… catch é‡Œçš„å†…å®¹åªè¦æ­£å¸¸æ‰§è¡Œæˆ–è€…æ­£å¸¸è¿”å›â€¦â€ä¹Ÿæ²¡æœ‰å®Œå…¨ä½“ç°å‡ºæ¥ã€‚ å¤§å®¶åˆ«æ…Œï¼Œå…¶å®è¿™æ­£æ˜¯æˆ‘è¦è®²çš„ç¬¬å…­å±‚å¥—è·¯~</p><p>thenã€catch å‚æ•°çš„æ¥å¤´å…¶å®å°±æ˜¯æˆ‘åœ¨ç¬¬ä¸‰å±‚å¥—è·¯é‡Œå°±è®²è¿‡<code>â€œç´§è·ŸPromiseå®ä¾‹çš„thençš„å‚æ•°ç­‰äºresolveæ¥å—çš„å‚æ•°ï¼›ç´§è·ŸPromiseå®ä¾‹çš„catchçš„å‚æ•°ç­‰äºrejectæ¥å—çš„å‚æ•°ã€‚â€</code>ã€‚å¦‚æœ thenã€catch é‡Œçš„å›è°ƒï¼Œæ²¡æœ‰å†™è¿”å›å†…å®¹ï¼Œåˆ™ then æˆ– catch åé¢å³å°†è¢«è§¦å‘çš„ then æˆ– catch æ˜¯æ— æ³•æ¥å—åˆ°å‚æ•°çš„ï¼›è€Œå¦‚æœæœ‰è¿”å›å†…å®¹ï¼Œå³ returnâ€¦ é‚£ä¹ˆæ— è®ºè¿”å›çš„æ˜¯æ™®é€šå€¼è¿˜æ˜¯æ˜¯ Promise å®ä¾‹ï¼Œå…¶å®éƒ½ä¼šå¯¹åº”è¢«è½¬åŒ–ä¸º Promise çš„å®ä¾‹(Promise.resolve(â€¦)æˆ–è€… Promise.reject(â€¦))</p><p>ç»“åˆä»£ç å†æ¥ç†è§£ä¸€ä¸‹~</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript"><span class="hljs-built_in">Promise</span>.reject(<span class="hljs-string">&#x27;æˆ‘æƒ³å‡ºé”™&#x27;</span>).<span class="hljs-keyword">catch</span>(<span class="hljs-function"><span class="hljs-params">(err)</span> =&gt;</span> &#123;<br>  <span class="hljs-built_in">console</span>.log(err);<br>  <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;æˆ‘ä¸æƒ³å‡ºé”™&#x27;</span>;  <span class="hljs-regexp">//</span> ä¼šè¢«è‡ªåŠ¨å°è£…æˆ<span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.resolve(<span class="hljs-string">&#x27;æˆ‘ä¸æƒ³å‡ºé”™&#x27;</span>)<br>&#125;).<span class="hljs-keyword">then</span>(data =&gt; &#123;<br>  <span class="hljs-built_in">console</span>.log(data);<br>  <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.resolve(<span class="hljs-string">&#x27;æˆ‘ä¸æƒ³å‡ºé”™&#x27;</span>)<br>&#125;).<span class="hljs-keyword">then</span>(data =&gt; &#123;<br>  <span class="hljs-built_in">console</span>.log(data);<br>&#125;)<br></code></pre></td></tr></table></figure><p>ä»£ç æ‰“å°ç»“æœï¼š<br>æˆ‘æƒ³å‡ºé”™<br>æˆ‘ä¸æƒ³å‡ºé”™<br>æˆ‘ä¸æƒ³å‡ºé”™</p><h5 id="ç¬¬ä¸ƒå±‚ï¼š"><a href="#ç¬¬ä¸ƒå±‚ï¼š" class="headerlink" title="ç¬¬ä¸ƒå±‚ï¼š"></a>ç¬¬ä¸ƒå±‚ï¼š</h5><p>ç¬¬ä¸ƒå±‚å¥—è·¯ï¼Œæˆ‘æ¥è°ˆè°ˆ async/awaitã€‚ å› ä¸º Promise çš„å‡ºç°ä¸»è¦æ˜¯ä¸ºäº†è§£å†³å¼‚æ­¥çš„å›è°ƒåœ°ç‹±é—®é¢˜ã€‚å°†å™©æ¢¦èˆ¬çš„åµŒå¥—å›è°ƒå˜ä¸ºäº†ä¼˜é›…çš„ç®¡é“å¼å›è°ƒã€‚ä½†è¿™å§‹ç»ˆæ˜¯é€ƒä¸æ‰â€œå›è°ƒâ€äºŒå­—ã€‚è€Œ async/await è™½è¯´åªæ˜¯ Promise çš„è¯­æ³•ç³–ï¼Œä½†è®©ä½ â€œè„±ç¦»â€äº†å›è°ƒï¼Œæ‹¥æŠ±äº†åŒæ­¥ä»£ç ~</p><p>ä¸‹é¢æˆ‘å†åˆ†äº«å¤§å®¶äº”å¥ç»å…¸è¯­å½•~</p><blockquote><p>æ‰§è¡Œ async å‡½æ•°ï¼Œè¿”å›çš„æ˜¯ Promise å¯¹è±¡</p></blockquote><blockquote><p>await å¿…é¡»åœ¨ async åŒ…è£¹ä¹‹ä¸‹æ‰§è¡Œ</p></blockquote><blockquote><p>await ç›¸å½“äº Promise çš„ then å¹¶ä¸”åŒä¸€ä½œç”¨åŸŸä¸‹ await ä¸‹é¢çš„å†…å®¹å…¨éƒ¨ä½œä¸º then ä¸­å›è°ƒçš„å†…å®¹</p></blockquote><blockquote><p>tryâ€¦â€¦catch å¯æ•è·å¼‚å¸¸ï¼Œä»£æ›¿äº† Promise çš„ catch</p></blockquote><blockquote><p>å¼‚æ­¥ä¸­å…ˆæ‰§è¡Œå¾®ä»»åŠ¡ï¼Œå†æ‰§è¡Œå®ä»»åŠ¡</p></blockquote><p>ä¸”çœ‹ä¸‹é¢çš„ä»£ç åˆ†æï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fn</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;æˆ‘æ˜¯asyncå‡½æ•°&#x27;</span>;<br>&#125;<br><br><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;async:&#x27;</span>, fn());<br></code></pre></td></tr></table></figure><p>æ‰§è¡Œç»“æœï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d97ad91369b344ee8e168444253fa1b0~tplv-k3u1fbpfcp-watermark.image" alt="æˆªå±2021-06-13 ä¸‹åˆ10.23.56.png"></p><p>è¿™é‡Œçš„ fn() ç›¸å½“äº Promise.resolve(â€˜æˆ‘æ˜¯ async å‡½æ•°â€™)ï¼ŒéªŒè¯äº†ç¬¬ä¸€æ¡è¯­å½•ï¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript">(<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">const</span> p = <span class="hljs-built_in">Promise</span>.resolve(<span class="hljs-string">&#x27;å¸…å¾—ä¹±ä¸ƒå…«ç³Ÿ&#x27;</span>);<br>  <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> p; <span class="hljs-comment">// awaitå°±ç›¸å½“äºPromise.then, æ•…dataå°±æ˜¯thençš„å‚æ•°</span><br>  <span class="hljs-built_in">console</span>.log(data);    <span class="hljs-comment">// è¿™é‡Œçš„ä»£ç ä¸ºthenä¸­å›è°ƒçš„å†…å®¹</span><br>&#125;)()<br></code></pre></td></tr></table></figure><p>ä¸Šé¢çš„è¿™æ®µä»£ç ï¼Œå¤§å®¶å¯ä»¥è¯•ç€æŠŠ<code>async</code>åˆ æ‰ï¼Œç»“æœä¸€å®šä¼šæŠ¥é”™ï¼è¿™å°±éªŒè¯äº†ç¬¬äºŒæ¡è¯­å½•ï¼ä¸Šé¢ä»£ç çš„æ³¨é‡Šç»“åˆç¬¬ä¸‰æ¡è¯­å½•ï¼Œå¤§å®¶åº”è¯¥èƒ½å¤Ÿä½“ä¼šåˆ°<code>await</code>çš„ä½œç”¨ï¼</p><p>å†çœ‹ä¸‹é¢ä¸€æ®µä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript">(<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">const</span> p = <span class="hljs-built_in">Promise</span>.reject(<span class="hljs-string">&#x27;err&#x27;</span>);<br>  <span class="hljs-comment">// await + try...catch ç›¸å½“äº Promise.catch</span><br>  <span class="hljs-keyword">try</span> &#123;<br>    <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> p;<br>    <span class="hljs-built_in">console</span>.log(res);<br>  &#125; <span class="hljs-keyword">catch</span>(ex) &#123;  <span class="hljs-comment">// ex æ¥æºäºreject()é‡Œé¢çš„æ•°</span><br>    <span class="hljs-built_in">console</span>.error(ex);<br>  &#125;<br>&#125;)()<br></code></pre></td></tr></table></figure><p>æ‰“å°ç»“æœä¸º errï¼ŒéªŒè¯äº†ç¬¬å››æ¡è¯­å½•ã€‚</p><p>åœ¨æ­¤è¡¥å……ä¸€ç‚¹å†…å®¹ï¼š</p><ul><li>å¸¸è§çš„å¾®ä»»åŠ¡ï¼š Promiseâ€¦â€¦thenã€ async/await</li><li>å¸¸è§çš„å®ä»»åŠ¡ï¼š setTimeoutã€setInterval<blockquote><p>è€ƒè™‘è¿‡åœ¨æ–‡ç« é‡Œè°ˆè°ˆå®ä»»åŠ¡å’Œå¾®ä»»åŠ¡çš„æ‰§è¡Œæœºåˆ¶ï¼Œä½†é™äºç¯‡å¹…ä»¥åŠæœ¬ç¯‡æ–‡ç« çš„ä¾§é‡ç‚¹åœ¨äºè§£é¢˜äºæ˜¯å°±ä¸è¿‡å¤šèµ˜è¿°å…¶ä»–å†…å®¹äº†ï¼Œæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥åœ¨è¯„è®ºåŒºè®¨è®ºä¸€ä¸‹ã€‚</p></blockquote></li></ul><p>å…¶å®çœ‹åˆ°è¿™å„¿ï¼Œæ–‡ç« å¼€å§‹å‡ºçš„æ‰€æœ‰é¢˜ç›®éƒ½èƒ½å¤Ÿè§£å†³äº†ã€‚ä¸ä¿¡å°±è¯•è¯• ğŸ’ªğŸ»</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs javascript">é¢˜ç›®ä¸‰:<br><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">async1</span> (<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;async1 start&#x27;</span>);<br>  <span class="hljs-keyword">await</span> async2();<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;async1 end&#x27;</span>);<br>&#125;<br><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">async2</span> (<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;async2&#x27;</span>);<br>&#125;<br><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;script start&#x27;</span>);<br><span class="hljs-built_in">setTimeout</span>(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;setTimeout&#x27;</span>);<br>&#125;, <span class="hljs-number">0</span>)<br>async1()<br><span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span> (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">resolve</span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;promise1&#x27;</span>)<br>  resolve()<br>&#125;).then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;promise2&#x27;</span>)<br>&#125;)<br><br><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;script end&#x27;</span>)<br></code></pre></td></tr></table></figure><p>æ­¤é¢˜éœ€è¦æ³¨æ„ä¸¤ä¸ªç‚¹</p><ol><li>new Promise()å†…éƒ¨çš„å›è°ƒå‡½æ•°æ˜¯å½“æˆåŒæ­¥å‡½æ•°æ‰§è¡Œ</li><li>æ‰§è¡Œåˆ° await code æ—¶ï¼Œä¼šå…ˆæ‰§è¡Œ codeï¼Œå†æ‰§è¡Œ await</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs sql">ä»£ç åˆ†æï¼š<br><span class="hljs-number">1.</span> å…ˆæ‰§è¡ŒåŒæ­¥ä»£ç ã€‚<br><span class="hljs-number">2.</span> æ‰€ä»¥é¦–å…ˆæ‰§è¡Œ console.<span class="hljs-built_in">log</span>(<span class="hljs-string">&#x27;script start&#x27;</span>);<br><span class="hljs-number">3.</span> setTimeoutä¸ºå®ä»»åŠ¡ï¼Œå…ˆä¸æ‰§è¡Œ<br><span class="hljs-number">4.</span> æ‰§è¡Œasync1å‡½æ•° console.<span class="hljs-built_in">log</span>(<span class="hljs-string">&#x27;async1 start&#x27;</span>); ä»¥åŠ async2(); awaitç”±äºæ˜¯Promise.thençš„è¯­æ³•ç³–æ˜¯å¼‚æ­¥ä»£ç ï¼Œå…ˆä¸æ‰§è¡Œ<br><span class="hljs-number">5.</span> <span class="hljs-keyword">new</span> Promise() å†…éƒ¨ä»£ç è¦æ‰§è¡Œï¼Œåé¢çš„<span class="hljs-keyword">then</span>çš„å†…å®¹ä¸ºå¾®ä»»åŠ¡å…ˆä¸æ‰§è¡Œ<br><span class="hljs-number">6.</span>æ‰§è¡Œconsole.<span class="hljs-built_in">log</span>(<span class="hljs-string">&#x27;script end&#x27;</span>)<br><span class="hljs-number">7.</span>åŒæ­¥ä»£ç æ‰§è¡Œç»“æŸ<br><span class="hljs-number">8.</span>å¼€å§‹æŒ‰ä»£ç é¡ºåºæ‰§è¡Œå¾®ä»»åŠ¡<br><span class="hljs-number">9.</span>å…ˆæ‰§è¡Œ console.<span class="hljs-built_in">log</span>(<span class="hljs-string">&#x27;async1 end&#x27;</span>); å‰é¢è¯´è¿‡ï¼Œawaitä¸‹é¢çš„ä»£ç ç›¸å½“äº<span class="hljs-keyword">then</span>é‡Œå›è°ƒçš„å†…å®¹<br><span class="hljs-number">10.</span><span class="hljs-keyword">new</span> Promise.thené‡Œé¢çš„å†…å®¹ console.<span class="hljs-built_in">log</span>(<span class="hljs-string">&#x27;promise2&#x27;</span>)<br><span class="hljs-number">11.</span> æœ€åæ‰§è¡Œ å®ä»»åŠ¡ä»£ç ï¼Œå³setTimeouté‡Œçš„å†…å®¹<br><br>æ‰§è¡Œç»“æœï¼š<br>script <span class="hljs-keyword">start</span><br>async1 <span class="hljs-keyword">start</span><br>async2<br>promise1<br>script <span class="hljs-keyword">end</span><br>async1 <span class="hljs-keyword">end</span><br>promise2<br>setTimeout<br></code></pre></td></tr></table></figure><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript">é¢˜ç›®å››ï¼š<br><span class="hljs-built_in">setTimeout</span>(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;0&#x27;</span>);<br>&#125;, <span class="hljs-number">0</span>)<br><span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function"><span class="hljs-params">(resolve, reject)</span> =&gt;</span> &#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;1&#x27;</span>);<br>  resolve();<br>&#125;).<span class="hljs-keyword">then</span>(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;2&#x27;</span>);<br>  <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function"><span class="hljs-params">(resolve, reject)</span> =&gt;</span> &#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;3&#x27;</span>);<br>    resolve();<br>  &#125;).<span class="hljs-keyword">then</span>(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;     <span class="hljs-regexp">//</span> ğŸ“Œ<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;4&#x27;</span>);<br>  &#125;).<span class="hljs-keyword">then</span>(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;5&#x27;</span>);<br>  &#125;)<br>&#125;).<span class="hljs-keyword">then</span>(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;6&#x27;</span>);   <span class="hljs-regexp">//</span> ğŸ“Œ<br>&#125;)<br><br><span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function"><span class="hljs-params">(resolve, reject)</span> =&gt;</span> &#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;7&#x27;</span>);<br>  resolve()<br>&#125;).<span class="hljs-keyword">then</span>(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;8&#x27;</span>);<br>&#125;)<br></code></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs sql">ä»£ç åˆ†æï¼š<br><span class="hljs-number">1.</span>å…ˆæ‰§è¡ŒåŒæ­¥ä»£ç <br><span class="hljs-number">2.</span>setTimeout ä¸ºå®ä»»åŠ¡ï¼Œå…ˆä¸æ‰§è¡Œ<br><span class="hljs-number">3.</span><span class="hljs-keyword">new</span> Promiseé‡Œçš„ä»£ç ä½œä¸ºåŒæ­¥ä»£ç ï¼Œè¦æ‰§è¡Œ console.<span class="hljs-built_in">log</span>(<span class="hljs-string">&#x27;1&#x27;</span>); è€Œ<span class="hljs-keyword">then</span>ä½œä¸ºå¾®ä»»åŠ¡ï¼Œå…ˆä¸æ‰§è¡Œ<br><span class="hljs-number">4.</span>åˆæ˜¯ä¸€ä¸ª<span class="hljs-keyword">new</span> Promise,æ‰€ä»¥å’Œç¬¬ä¸‰æ­¥åŒç†ã€‚åªæ‰§è¡Œ console.<span class="hljs-built_in">log</span>(<span class="hljs-string">&#x27;7&#x27;</span>);<br><span class="hljs-number">5.</span>å¼€å§‹æ‰§è¡Œå¼‚æ­¥ä»£ç <br><span class="hljs-number">6.</span>æ‰§è¡Œç¬¬ä¸€ä¸ª<span class="hljs-keyword">new</span> Promiseé‡Œçš„<span class="hljs-keyword">then</span> å³console.<span class="hljs-built_in">log</span>(<span class="hljs-string">&#x27;2&#x27;</span>);ä»¥åŠ<span class="hljs-keyword">new</span> Promiseçš„åŒæ­¥ä»£ç  console.<span class="hljs-built_in">log</span>(<span class="hljs-string">&#x27;3&#x27;</span>);<br><span class="hljs-number">7.</span>è¿™æ­¥æœ‰ç‚¹æ„æ€ï¼Œè¿™é‡Œä¸æ˜¯æ‰§è¡Œconsole.<span class="hljs-built_in">log</span>(<span class="hljs-string">&#x27;4&#x27;</span>); è€Œæ˜¯æ‰§è¡Œconsole.<span class="hljs-built_in">log</span>(<span class="hljs-string">&#x27;8&#x27;</span>);<br><span class="hljs-number">8.</span>æ³¨é‡Šä¸ºğŸ“Œçš„ä¸¤ä¸ª<span class="hljs-keyword">then</span>æ˜¯åŒå±‚çº§çš„ï¼Œæ‰€ä»¥æŒ‰ç…§æ‰§è¡Œé¡ºåºæ¥æ‰“å°<br><span class="hljs-number">9.</span>æ‰§è¡Œç¬¬ä¸‰ä¸ªå±‚çº§çš„<span class="hljs-keyword">then</span>ï¼Œæ‰€æœ‰å¾®ä»»åŠ¡ä»£ç å®Œæˆ<br><span class="hljs-number">10.</span>æ‰§è¡Œå®ä»»åŠ¡ä»£ç ï¼Œå³console.<span class="hljs-built_in">log</span>(<span class="hljs-string">&#x27;0&#x27;</span>);<br><br>ä»£ç ç»“æœï¼š<br><span class="hljs-number">1</span><br><span class="hljs-number">7</span><br><span class="hljs-number">2</span><br><span class="hljs-number">3</span><br><span class="hljs-number">8</span><br><span class="hljs-number">4</span><br><span class="hljs-number">6</span><br><span class="hljs-number">5</span><br><span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><p>è¯´æœ‰åƒå±‚é¥¼å¥—è·¯ï¼Œå…¶å®åªæœ‰ 7 å±‚å¥—è·¯ï¼Œä½†è¿™æ¯ä¸€å±‚å¥—è·¯éƒ½æ˜¯æˆ‘å¯¹äº Promiseã€async/await çš„æ„Ÿæ‚Ÿï¼Œæœ‰äº›å†…å®¹å¹¶æœªç»†è®²ï¼Œæ¯”å¦‚å¾®ä»»åŠ¡ã€å®ä»»åŠ¡ä¸ DOM ä¹‹é—´çš„æ‰§è¡Œé¡ºåºè¿™ç§ç›¸å¯¹åº•å±‚çš„å†…å®¹æœ¬æ–‡å¹¶æœªè°ˆåŠï¼Œæ¯•ç«Ÿè¿™ç¯‡æ–‡ç« çš„ä¾§é‡ç‚¹æ˜¯åœ¨è§£å†³ Promiseã€async/await æ‰§è¡Œé¡ºåºç±»å‹é¢˜ã€‚æœ¬æ–‡ä¹Ÿå¯èƒ½æœ‰å†…å®¹é”™è¯¯æˆ–é€»è¾‘é”™è¯¯ï¼Œä¹Ÿè¯·å¤§å®¶å¤šå¤šåŒ…æ¶µï¼Œå¤šå¤šæŒ‡å‡ºï¼Œè°¢è°¢ï¼ï¼</p><p>å¥½äº†ï¼Œå¤§åŠŸå·²å‘Šæˆï¼æƒ³å¿…é€šè¿‡è¿™äº›é¢˜ï¼Œå¤§å®¶å·²ç»é¢†æ‚Ÿåˆ°äº†è§£å†³æ­¤ç±»é¢˜å‹çš„å¥¥ä¹‰ï¼</p><head>  ..  <script src="//cdn.jsdelivr.net/npm/@waline/client"></script>  ...</head><body>  ...  <div id="waline"></div>  <script>    Waline({      el: '#waline',       avatar: 'monsterid',      serverURL: 'https://blog-api-9sizcti78-bruce-shuai.vercel.app/',    });  </script></body>]]></content>
    
    
    <categories>
      
      <category>JavaScript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æœ‰æ•ˆæ‹¬å·é—®é¢˜</title>
    <link href="/2021/10/07/%E6%9C%89%E6%95%88%E6%8B%AC%E5%8F%B7%E9%97%AE%E9%A2%98/"/>
    <url>/2021/10/07/%E6%9C%89%E6%95%88%E6%8B%AC%E5%8F%B7%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><code class="hljs awk">/**<br> * é¢˜ç›®æè¿°ï¼šç»™å®šä¸€ä¸ªåªåŒ…æ‹¬<span class="hljs-string">&#x27;(&#x27;</span>, <span class="hljs-string">&#x27;)&#x27;</span>, <span class="hljs-string">&#x27;&#123;&#x27;</span>, <span class="hljs-string">&#x27;&#125;&#x27;</span>, <span class="hljs-string">&#x27;[&#x27;</span>, <span class="hljs-string">&#x27;]&#x27;</span>çš„å­—ç¬¦ä¸²,åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æœ‰æ•ˆ<br> * <br> * è®°ä½ä¸€ä¸ªè§„å¾‹ï¼š æ‹¬å·æˆç«‹ æ„å‘³ç€ å¯¹ç§°æ€§<br> */<br><br><span class="hljs-regexp">//</span> æ‹¬å·é—®é¢˜ï¼Œæˆ‘ä»¬ä¸€èˆ¬é¦–é€‰æ ˆæ¥åš    ----&gt;   å¯¹ç§°æ€§<br><br><span class="hljs-regexp">//</span> ç”¨ä¸€ä¸ªmapæ¥ç»´æŠ¤å·¦æ‹¬å·å’Œå³æ‹¬å·çš„å¯¹åº”å…³ç³»<br><span class="hljs-regexp">//</span> map å…³ç³»çœŸçš„éå¸¸çš„å¥½ç”¨<br><span class="hljs-regexp">//</span> const leftToRight = &#123;<br><span class="hljs-regexp">//</span>   <span class="hljs-string">&quot;(&quot;</span>:<span class="hljs-string">&quot;)&quot;</span>,<br><span class="hljs-regexp">//</span>   <span class="hljs-string">&quot;&#123;&quot;</span>:<span class="hljs-string">&quot;&#125;&quot;</span>,<br><span class="hljs-regexp">//</span>   <span class="hljs-string">&quot;[&quot;</span>:<span class="hljs-string">&quot;]&quot;</span><br><span class="hljs-regexp">//</span> &#125;<br><br><span class="hljs-regexp">//</span> /**<br><span class="hljs-regexp">//</span>  * @param &#123;string&#125; s<br><span class="hljs-regexp">//</span>  * @return &#123;boolean&#125;<br><span class="hljs-regexp">//</span>  */<br><br><span class="hljs-regexp">//</span> <span class="hljs-regexp">//</span> æœ‰äº›ç»†èŠ‚ æˆ‘<br><span class="hljs-regexp">//</span> const isValid = <span class="hljs-keyword">function</span>(s) &#123;<br><span class="hljs-regexp">//</span>   <span class="hljs-regexp">//</span> ç»“åˆé¢˜æ„ï¼Œç©ºå­—ç¬¦ä¸²æ— æ¡ä»¶åˆ¤æ–­ä¸º true<br><span class="hljs-regexp">//</span>   <span class="hljs-keyword">if</span> (!s) &#123;<br><span class="hljs-regexp">//</span>     return true;<br><span class="hljs-regexp">//</span>   &#125;<br><span class="hljs-regexp">//</span>   <span class="hljs-regexp">//</span> åˆå§‹åŒ– stack æ•°ç»„<br><span class="hljs-regexp">//</span>   const stack = [];<br><span class="hljs-regexp">//</span>   <span class="hljs-keyword">for</span> (let i = <span class="hljs-number">0</span>; i &lt; s.length; i++) &#123;<br><span class="hljs-regexp">//</span>     <span class="hljs-keyword">if</span> (s[i] === <span class="hljs-string">&#x27;(&#x27;</span> || s[i] === <span class="hljs-string">&#x27;&#123;&#x27;</span> || s[i] === <span class="hljs-string">&#x27;[&#x27;</span>) &#123;<br><span class="hljs-regexp">//</span>       stack.push(leftToRight[s[i]])<br><span class="hljs-regexp">//</span>     &#125; <span class="hljs-keyword">else</span> &#123;<br><span class="hljs-regexp">//</span>       <span class="hljs-regexp">//</span> ä½†æ˜¯äººå®¶å†™çš„æ˜¯!stack.length || stack.pop() !== ch  å¥½å¥‡æ€ª...<br><span class="hljs-regexp">//</span>       <span class="hljs-keyword">if</span> (stack.pop() !== s[i]) &#123;<br><span class="hljs-regexp">//</span>         return false;<br><span class="hljs-regexp">//</span>       &#125;<br><span class="hljs-regexp">//</span>     &#125;<br><span class="hljs-regexp">//</span>   &#125;<br><span class="hljs-regexp">//</span>   <span class="hljs-regexp">//</span> è‹¥æ‰€æœ‰çš„æ‹¬å·éƒ½èƒ½é…å¯¹æˆåŠŸï¼Œé‚£ä¹ˆæœ€åæ ˆåº”è¯¥æ˜¯ç©ºçš„<br><span class="hljs-regexp">//</span>   <span class="hljs-regexp">//</span> return !stack.length;<br><br><span class="hljs-regexp">//</span>   return true;<br><span class="hljs-regexp">//</span> &#125;<br><br><br><br><span class="hljs-regexp">//</span> æ³¨æ„ï¼š ))))(((( è¿™ç§æ˜¯é”™è¯¯çš„ã€‚å·¦æ‹¬å·å¿…é¡»ä»¥æ­£ç¡®çš„é¡ºåºé—­åˆ<br><br><span class="hljs-regexp">//</span> å¯¹è±¡æ˜ å°„å¤§æ³• ----&gt;  æ³¨æ„ï¼å˜é‡ååƒä¸‡æé”™ä¸èƒ½å‡ºé”™, æœ‰æ—¶è¦å¥½å¥½æ£€æŸ¥æ£€æŸ¥è‡ªå·±çš„å˜é‡å...<br>const leftToRight = &#123;<br>  <span class="hljs-string">&quot;&#123;&quot;</span>:<span class="hljs-string">&quot;&#125;&quot;</span>,<br>  <span class="hljs-string">&quot;(&quot;</span>:<span class="hljs-string">&quot;)&quot;</span>,<br>  <span class="hljs-string">&quot;[&quot;</span>:<span class="hljs-string">&quot;]&quot;</span><br>&#125;<br><br><br><span class="hljs-regexp">//</span> æˆ‘è‡ªå·±æƒ³åˆ°ä¸€ä¸ªæ–¹æ³•ã€‚è®¾ç½®ä¸¤ä¸ªæ ˆã€‚ä¸€ä¸ªæ ˆæ”¾å…¥å·¦ä¾§ç¬¦å·çš„æ˜ å°„ã€‚  ä¸€ä¸ªæ ˆæ”¾å…¥å³ä¾§ç¬¦å·ã€‚ ä¸¤ä¸ªæ ˆè¿›è¡Œä¸€ä¸€å¯¹æ¯”<br>const isValid = (str) =&gt; &#123;<br>  const stack = [];<br>  <span class="hljs-regexp">//</span> æ•°ç»„ç¼“å­˜<br>  let len = str.length;<br><br>  <span class="hljs-keyword">for</span> (let i = <span class="hljs-number">0</span>; i &lt; len; i++) &#123;<br>    <span class="hljs-keyword">if</span> (str[i] === <span class="hljs-string">&#x27;&#123;&#x27;</span> || str[i] === <span class="hljs-string">&#x27;[&#x27;</span> || str[i] === <span class="hljs-string">&#x27;(&#x27;</span>) &#123;<br>      stack.push(leftToRight[str[i]]);<br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (stack.length !== <span class="hljs-number">0</span> &amp;&amp; str[i] === stack[stack.length - <span class="hljs-number">1</span>]) &#123;<br>      stack.pop();<br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (stack.length === <span class="hljs-number">0</span>) &#123;<br>      return false;<br>    &#125;<br>  &#125;<br>  return stack.length === <span class="hljs-number">0</span>;<br>&#125;<br><br>console.log(<span class="hljs-string">&#x27;test&#x27;</span>, isValid(<span class="hljs-string">&#x27;()[]&#123;&#125;&#x27;</span>));<br></code></pre></td></tr></table></figure><head>  ..  <script src="//cdn.jsdelivr.net/npm/@waline/client"></script>  ...</head><body>  ...  <div id="waline"></div>  <script>    Waline({      el: '#waline',       avatar: 'monsterid',      serverURL: 'https://blog-api-9sizcti78-bruce-shuai.vercel.app/',    });  </script></body>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      
      <category>æ ˆç±»ç›¸å…³é—®é¢˜</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¼€å§‹æˆ‘çš„ä¸ªäººåšå®¢ä¹‹æ—…å•¦</title>
    <link href="/2021/10/07/%E5%BC%80%E5%A7%8B%E6%88%91%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E4%B9%8B%E6%97%85%E5%95%A6/"/>
    <url>/2021/10/07/%E5%BC%80%E5%A7%8B%E6%88%91%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E4%B9%8B%E6%97%85%E5%95%A6/</url>
    
    <content type="html"><![CDATA[<p>è¿™ç¯‡åšå®¢åªæ˜¯ç”¨æ¥æµ‹è¯•ä¸€ä¸‹ç½‘ç«™ å“ˆå“ˆå“ˆ<br>ç¥ç¦çœ‹è§è¿™ç¯‡åšå®¢çš„ä½  æ°¸è¿œå¿«ä¹å“¦!</p><head>  ..  <script src="//cdn.jsdelivr.net/npm/@waline/client"></script>  ...</head><body>  ...  <div id="waline"></div>  <script>    Waline({      el: '#waline',      serverURL: 'https://blog-api-9sizcti78-bruce-shuai.vercel.app/',    });  </script></body>]]></content>
    
    
    
    <tags>
      
      <tag>ç”Ÿæ´»</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2021/10/06/hello-world/"/>
    <url>/2021/10/06/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
