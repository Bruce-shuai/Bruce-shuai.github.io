

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" href="/img/favicon/favicon.ico">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="分享知识、感受生活~">
  <meta name="author" content="帅得乱七八糟">
  <meta name="keywords" content="">
  <meta name="description" content="对称加密和非对称加密 摘要https vs http CDN 以太网、局域网二者关系以太网只是组成互联网的一个子集，以太网是现在主流的局域网标准，而互联网是指将大量的局域网连接起来，进行资源的分享。 阮一峰 互联网协议 每一层都是为了完成一种功能。为了实现这些功能，就需要大家都遵守共同的规则。大家都遵守的规则，就叫做&quot;协议&quot;（protocol） IP协议的作用主要有两个，一个是">
<meta property="og:type" content="article">
<meta property="og:title" content="计算机网络">
<meta property="og:url" content="http://example.com/2021/10/28/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/index.html">
<meta property="og:site_name" content="何阳阳阳的小屋">
<meta property="og:description" content="对称加密和非对称加密 摘要https vs http CDN 以太网、局域网二者关系以太网只是组成互联网的一个子集，以太网是现在主流的局域网标准，而互联网是指将大量的局域网连接起来，进行资源的分享。 阮一峰 互联网协议 每一层都是为了完成一种功能。为了实现这些功能，就需要大家都遵守共同的规则。大家都遵守的规则，就叫做&quot;协议&quot;（protocol） IP协议的作用主要有两个，一个是">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/%E8%BE%B9%E7%BC%98%E9%83%A8%E5%88%86-%E5%AE%B6%E5%BA%AD.qb1jknhbm8w.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/%E8%BE%B9%E7%BC%98%E9%83%A8%E5%88%86-%E4%BC%81%E4%B8%9A.2zlos9ma7bo0.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/%E7%BD%91%E7%BB%9C%E6%8B%93%E6%89%91.5g08pnr99c80.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-10-11-at-6.58.37-PM.38vof6hxygc0.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/ping.3ede6r5ghy00.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/%E6%AF%94%E7%89%B9%E6%B5%81.bzz72eiwus0.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-10-14-at-10.24.26-AM.zvv3inrxkz4.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-10-14-at-10.29.06-AM.3o19ml6y9tq0.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-10-14-at-10.30.58-AM.2j99msq02ea0.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-10-14-at-10.40.05-AM.3yco91z14js0.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-10-14-at-10.42.35-AM.493mxsqda8y0.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-10-14-at-10.51.48-AM.622jua94k8g0.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-10-14-at-11.10.46-AM.7avoq98rzp80.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-10-14-at-11.13.26-AM.39suzj8cu7w0.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-10-28-at-10.26.13-AM.dw0l58n12nk.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-10-28-at-10.40.03-AM.26rz5cnw8uow.png">
<meta property="article:published_time" content="2021-10-28T02:15:07.000Z">
<meta property="article:modified_time" content="2021-12-11T13:21:14.854Z">
<meta property="article:author" content="帅得乱七八糟">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/%E8%BE%B9%E7%BC%98%E9%83%A8%E5%88%86-%E5%AE%B6%E5%BA%AD.qb1jknhbm8w.png">
  
  <title>计算机网络 - 何阳阳阳的小屋</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />
  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->

  
<link rel="stylesheet" href="/css/custom.css">
<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/bynotes/texiao/source/css/shubiao.css">
<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/bynotes/texiao/source/css/toubudaziji.css">
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.8.12","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname"}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>何阳阳阳的小屋🛖</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/shuoshuo/">
                <i class="iconfont icon-kakao-talk-fill"></i>
                说说
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                小屋主人
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/bg6.2e551b3dtthc.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="计算机网络">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2021-10-28 10:15" pubdate>
        2021年10月28日 上午
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      8.5k 字
    </span>
  

  
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      27 分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">计算机网络</h1>
            
            <div class="markdown-body">
              <p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/30573146">对称加密和非对称加密</a></p>
<p><a href="liaoxuefeng.com/wiki/1252599548343744/1304227729113121">摘要</a><br><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1w4411m7GL?from=search&seid=18369141538307426732&spm_id_from=333.337.0.0">https vs http</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/7002781373014474759#comment">CDN</a></p>
<p><strong>以太网、局域网二者关系</strong><br><code>以太网</code>只是组成互联网的一个子集，<code>以太网</code>是现在主流的<code>局域网标准</code>，而互联网是指将大量的局域网连接起来，进行资源的分享。</p>
<p><a target="_blank" rel="noopener" href="https://www.ruanyifeng.com/blog/2012/05/internet_protocol_suite_part_i.html">阮一峰 互联网协议</a></p>
<p>每一层都是为了完成一种功能。为了实现这些功能，就需要大家都<code>遵守共同的规则</code>。大家都遵守的规则，就叫做<code>&quot;协议&quot;</code>（protocol）</p>
<p><code>IP协议</code>的作用主要有两个，一个是为每一台计算机<code>分配IP地址</code>，另一个是确定哪些地址在<code>同一个子网络</code></p>
<p><strong>“端口”是 0 到 65535 之间的一个整数</strong>，正好 16 个二进制位。<strong>0 到 1023 的端口被系统占用，用户只能选用大于 1023 的端口</strong>。不管是浏览网页还是在线聊天，应用程序会随机选用一个端口，然后与服务器的相应端口联系</p>
<p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=HGetnD4ISrw&list=PLgJ_1RCsjcSmUw-DoTfD8kVJGqxz7MjNd&index=70">教程</a></p>
<p>注意： 计算机网络 不仅仅是软件概念，还包含了硬件设备并且计算机网络不仅仅是信息通信，还可以支持广泛的应用</p>
<h5 id="计算机网络的分类："><a href="#计算机网络的分类：" class="headerlink" title="计算机网络的分类："></a>计算机网络的分类：</h5><p><strong>按网络的作用范围分类</strong>：广域网(WAN)、城域网(MAN)、局域网(LAN)</p>
<p>广域网：范围：几十到几千公里 区域：跨省、跨国<br>城域网：范围：5KM-50KM 区域：城市间<br>局域网：范围：1KM 以内(有点小啊)区域：地区内</p>
<p><strong>按网络的使用者分类</strong>：公用网络、专用网络(军方、公司、银行)</p>
<h5 id="互联网的发展历史"><a href="#互联网的发展历史" class="headerlink" title="互联网的发展历史"></a>互联网的发展历史</h5><ul>
<li><p>第一个阶段： 单个网络 ARPANET —&gt; 计算机利用<strong>交换机</strong>来完成信息的交互(计算机数量是非常少的)</p>
</li>
<li><p>第二个阶段： 三层结构的互联网 —&gt;</p>
</li>
</ul>
<figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">        主干网<br>          |<span class="hljs-string"></span><br><span class="hljs-string">    主干网----主干网</span><br><span class="hljs-string">      </span>|<span class="hljs-string">        </span>|<br>  +-------+   ...<br>地区网   地区网<br>  |<span class="hljs-string">       </span>|<br>校园网   校园网<br></code></pre></td></tr></table></figure>

<p>全国(美国)的学校政府公司这些网连在一起的</p>
<ul>
<li>第三个阶段： 多层次 ISP 互联网<br>ISP(Internet Service Provider): 网络服务提供商 —&gt; 例如：中国电信、中国移动、中国联通</li>
</ul>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli">            主干ISP     <span class="hljs-string">//</span> 跨国操作<span class="hljs-string">...</span><br>              |<br>       主干ISP<span class="hljs-params">----</span>主干ISP<br>         |        |<br>     +<span class="hljs-params">-------</span>+   <span class="hljs-string">...</span><br>   地区ISP  地区ISP<br>     |<br>  +<span class="hljs-params">------</span>+<br>公司     校园<br></code></pre></td></tr></table></figure>

<p>主干 ISP: 例如 中国移动<br>地区 ISP: 例如 四川移动</p>
<h5 id="中国互联网的发展简史"><a href="#中国互联网的发展简史" class="headerlink" title="中国互联网的发展简史"></a>中国互联网的发展简史</h5><figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs brainfuck">  <span class="hljs-comment">1980年开始</span>    <span class="hljs-comment">1989年第一个</span>        <span class="hljs-comment">1994接入</span><br>  <span class="hljs-comment">互联网实验</span>     <span class="hljs-comment">公共网络建立运行</span>    <span class="hljs-comment">国际互联网</span><br>--<span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span>&gt; --<span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span>&gt; --<span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span>&gt;<br></code></pre></td></tr></table></figure>

<p>5 个中国最大的计算机公用网络</p>
<ol>
<li>中国电信互联网</li>
<li>中国联通互联网</li>
<li>中国移动互联网</li>
<li>中国教育与科研计算机网</li>
<li>中国科学技术网</li>
</ol>
<h5 id="计算机网络的层次结构"><a href="#计算机网络的层次结构" class="headerlink" title="计算机网络的层次结构"></a>计算机网络的层次结构</h5><p>首先先考虑一个问题</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs css">计算机<span class="hljs-selector-tag">A</span> 和 计算机<span class="hljs-selector-tag">B</span>如何进行通信？<br><br>我们需要考虑一些问题：<br> 例如：如何保证数据通路顺畅？<br>      如何识别目的计算机？<br>      当前目的计算机状态是怎样的？<br>      计算机传递的数据是否是错误的？<br>...可见，计算机通信要考虑的问题是繁多而复杂的。为了解决这些问题。我们采用分层来实现不同的功能<br></code></pre></td></tr></table></figure>

<p>分层要考虑的东西：</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ada">顶层：  网络应用数据  <span class="hljs-comment">---&gt;  视频、文件、游戏</span><br>下一层：数据可靠通信  <span class="hljs-comment">---&gt;  数据错误、重复</span><br>下一层：物理网络接入  <span class="hljs-comment">---&gt;  光电等物理特性</span><br></code></pre></td></tr></table></figure>

<h5 id="层次结构设计的基本原则-这些设计思想是值得学习的…"><a href="#层次结构设计的基本原则-这些设计思想是值得学习的…" class="headerlink" title="层次结构设计的基本原则(这些设计思想是值得学习的…)"></a>层次结构设计的基本原则(这些设计思想是值得学习的…)</h5><ul>
<li>各层之间是相互独立的(某一层是不需要知道下一层的原理或实现是怎么样的…层与层之间的耦合度是非常低的…)</li>
<li>每一层要有足够的灵活性，以方便应对未来的变化</li>
<li>各层之间完全解耦(上一层的变化是不影响下一层的…)</li>
</ul>
<h5 id="OSI-七层模型"><a href="#OSI-七层模型" class="headerlink" title="OSI 七层模型"></a>OSI 七层模型</h5><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ada">应用层  <span class="hljs-comment">----&gt;  为计算机用户提供接口和服务</span><br>表示层  <span class="hljs-comment">----&gt;  数据处理(编码解码、加密解密等)</span><br>会话层  <span class="hljs-comment">----&gt;  管理(建立、维护、重连)通信会话</span><br>传输层  <span class="hljs-comment">----&gt;  管理端到端的通信连接</span><br>网络层  <span class="hljs-comment">----&gt;  数据路由(决定数据在网络的路径)</span><br>数据链路层 <span class="hljs-comment">--&gt;  管理相邻节点之间的数据通信</span><br>物理层  <span class="hljs-comment">----&gt;  数据通信的光电物理特性</span><br></code></pre></td></tr></table></figure>

<ul>
<li>OSI 本来想要成为全球计算机都遵循的标准</li>
<li>OSI 在市场化过程中困难重重，TCP/IP 在全球范围成功运行</li>
<li>OSI 最终并没有成为广为使用的标准模型<ul>
<li>原因如下：</li>
</ul>
<ol>
<li>OSI 的专家缺乏实际操作经验…</li>
<li>OSI 标准制定周期过长，按 OSI 标准生产的设备无法及时进入市场</li>
<li>OSI 模型设计的并不合理，一些功能在多层中重复出现</li>
</ol>
</li>
</ul>
<h5 id="TCP-IP-四层模型"><a href="#TCP-IP-四层模型" class="headerlink" title="TCP/IP 四层模型"></a>TCP/IP 四层模型</h5><ul>
<li>应用层 (包含了 OSI 的 应用层、表示层、会话层) —&gt; 一些协议：HTTP/FTP</li>
<li>传输层 —&gt; 一些协议：TCP/UDP</li>
<li>网络层 —&gt; 一些协议：IP/ICMP</li>
<li>网络接口层 (包含了 物理层、数据链路层) –&gt; 一些协议：Ethernet/ARP/RARP</li>
</ul>
<p>通信过程</p>
<figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs brainfuck"><span class="hljs-comment">计算机A</span>                         <span class="hljs-comment">计算机B</span><br> <span class="hljs-comment">应用层</span>                          <span class="hljs-comment">应用层</span><br> <span class="hljs-comment">传输层</span>      --<span class="hljs-literal">-</span>&gt; <span class="hljs-comment">路由器</span> --<span class="hljs-literal">-</span>&gt;     <span class="hljs-comment">传输层</span><br> <span class="hljs-comment">网络层</span>           <span class="hljs-comment">网络层</span>          <span class="hljs-comment">网络层</span><br> <span class="hljs-comment">网络接口层</span>        <span class="hljs-comment">网络接口层</span>      <span class="hljs-comment">网络接口层</span><br></code></pre></td></tr></table></figure>

<h5 id="现代互联网的网络拓扑"><a href="#现代互联网的网络拓扑" class="headerlink" title="现代互联网的网络拓扑"></a>现代互联网的网络拓扑</h5><ul>
<li><p>边缘部分(用户可以直接接触的部分)<br><img src="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/%E8%BE%B9%E7%BC%98%E9%83%A8%E5%88%86-%E5%AE%B6%E5%BA%AD.qb1jknhbm8w.png" srcset="/img/loading.gif" lazyload alt="边缘部分"><br><img src="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/%E8%BE%B9%E7%BC%98%E9%83%A8%E5%88%86-%E4%BC%81%E4%B8%9A.2zlos9ma7bo0.png" srcset="/img/loading.gif" lazyload alt="边缘部分"><br><img src="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/%E7%BD%91%E7%BB%9C%E6%8B%93%E6%89%91.5g08pnr99c80.png" srcset="/img/loading.gif" lazyload alt="网络拓扑"><br><img src="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-10-11-at-6.58.37-PM.38vof6hxygc0.png" srcset="/img/loading.gif" lazyload alt="核心部分"></p>
<p>海底电缆相互连接…???</p>
<p>客户-服务器(C/S)模式<br>对等连接(P2P)模式 (下载速度更快…)</p>
</li>
<li><p>核心部分</p>
</li>
</ul>
<h5 id="计算机网络的性能指标"><a href="#计算机网络的性能指标" class="headerlink" title="计算机网络的性能指标"></a>计算机网络的性能指标</h5><p>速率单位：bps = bit/s<br>为什么电信拉的 100M 光纤，测试峰值速度只有 12M 每秒?</p>
<p>网络常用单位(Mbps)<br>100M/s = 100Mbps = 100Mbit/s<br>100Mbit/s = (100 / 8)MB/s = 12.5MB/s</p>
<h6 id="时延"><a href="#时延" class="headerlink" title="时延"></a>时延</h6><ul>
<li>发送时延</li>
<li>传播时延</li>
<li>排队时延</li>
<li>处理时延</li>
</ul>
<p>总时延 = 发送时延 + 传播时延 + 排队时延 + 处理时延</p>
<h6 id="往返时间-RTT"><a href="#往返时间-RTT" class="headerlink" title="往返时间 RTT"></a>往返时间 RTT</h6><p>RTT 是评估网络质量的一项重要指标<br>RTT 表示的是数据报文在端到端通信中的来回一次的时间<br>通常使用 ping 命令来查看 RTT<br><img src="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/ping.3ede6r5ghy00.png" srcset="/img/loading.gif" lazyload alt="ping"></p>
<h4 id="物理层概述"><a href="#物理层概述" class="headerlink" title="物理层概述"></a>物理层概述</h4><h5 id="物理层的作用"><a href="#物理层的作用" class="headerlink" title="物理层的作用"></a>物理层的作用</h5><ul>
<li>连接不同的物理设备(跨国 isp –&gt; 通过海底电缆进行连接…)</li>
<li>传输比特流</li>
</ul>
<p>连接不同物理设备的介质：双绞线、同轴电缆、光纤、红外线、无线(电磁波)、激光</p>
<p><img src="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/%E6%AF%94%E7%89%B9%E6%B5%81.bzz72eiwus0.png" srcset="/img/loading.gif" lazyload alt="比特流"></p>
<h5 id="信道的基本概念"><a href="#信道的基本概念" class="headerlink" title="信道的基本概念"></a>信道的基本概念</h5><ul>
<li>信道是往一个方向发送信息的媒体</li>
<li>一条通信电路包含一个接收信道和一个发送信道(即两条信道)</li>
</ul>
<figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs clean">          发送信道<br>设备A  &lt;-----------&gt;  设备B<br>          接收信道<br></code></pre></td></tr></table></figure>

<ul>
<li>单工通信信道<ul>
<li>只能一个方向通信，没有反方向反馈的信道</li>
<li>有线电视、无线电收音机(只能接收，不能发送)等</li>
</ul>
</li>
<li>半双工通信信道<ul>
<li>双方都可以发送和接收信息</li>
<li>不能双方同时发送，也不能同时接收</li>
</ul>
</li>
<li>全双工通信信道<ul>
<li>双方都可以同时发送和接收信息</li>
</ul>
</li>
</ul>
<h5 id="分用-复用技术"><a href="#分用-复用技术" class="headerlink" title="分用-复用技术"></a>分用-复用技术</h5><figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs brainfuck"><span class="hljs-comment">设备1</span> --<span class="hljs-literal">+</span>                            <span class="hljs-literal">+</span>-- <span class="hljs-comment">设备4</span><br><span class="hljs-comment">设备2</span> --<span class="hljs-comment">|</span>--<span class="hljs-literal">-</span> <span class="hljs-comment">复用</span> --<span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-literal">-</span> <span class="hljs-comment">分用</span> --<span class="hljs-literal">-</span><span class="hljs-comment">|</span>-- <span class="hljs-comment">设备5</span><br><span class="hljs-comment">设备3</span> --<span class="hljs-literal">+</span>                            <span class="hljs-literal">+</span>-- <span class="hljs-comment">设备6</span><br><br></code></pre></td></tr></table></figure>

<h5 id="数据链路层概述"><a href="#数据链路层概述" class="headerlink" title="数据链路层概述"></a>数据链路层概述</h5><ul>
<li><p>封装成帧</p>
<ul>
<li>“帧”是数据链路层数据的基本单位</li>
<li>发送端在网络层的一段数据前后添加特定标记形成“帧”</li>
<li>接收端根据前后特定标记识别出“帧”</li>
<li>(物理层不会管你“帧”不“帧”，物理层只管比特流的传输。这里也说明了层与层之间是相互独立，完全解耦的)<br><img src="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-10-14-at-10.24.26-AM.zvv3inrxkz4.png" srcset="/img/loading.gif" lazyload alt="封装成帧"></li>
</ul>
</li>
<li><p>透明传输</p>
<ul>
<li>“透明”在计算机领域是非常重要的一个术语</li>
<li>一种实际存在的事物却又看起来不存在一样</li>
<li>即是控制字符在帧数据中，但是要当作不存在的去处理<br><img src="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-10-14-at-10.29.06-AM.3o19ml6y9tq0.png" srcset="/img/loading.gif" lazyload alt="没有透明传输会出现的问题"><br>ESC 是转义字符<br><img src="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-10-14-at-10.30.58-AM.2j99msq02ea0.png" srcset="/img/loading.gif" lazyload alt="透明传输"><ul>
<li>这个转义字符和编程语言中的”&quot;功能是非常相似的</li>
</ul>
</li>
</ul>
</li>
<li><p>差错监测</p>
<ul>
<li><p>物理层只管传输比特流，无法控制是否出错</p>
</li>
<li><p>数据链路层负责起“差错检测”的工作</p>
</li>
<li><p>奇偶校验码<br><img src="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-10-14-at-10.40.05-AM.3yco91z14js0.png" srcset="/img/loading.gif" lazyload alt="奇偶校验码"></p>
<p>&lt;—奇偶校验码的局限性—&gt;<br><img src="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-10-14-at-10.42.35-AM.493mxsqda8y0.png" srcset="/img/loading.gif" lazyload alt="奇偶校验码的局限性"></p>
</li>
<li><p>循环冗余校验码 CRC<br>–&gt; 更成熟的差错监测</p>
<ul>
<li>一种根据传输或保存的数据而<strong>产生固定位数校验码</strong>的方法</li>
<li><strong>检测</strong>数据传输或者保存后可能出现的错误</li>
<li>生成的数字计算出来并且<strong>附加到数据后面</strong></li>
<li>模“2”除法<ul>
<li>模“2”除法是二进制下的除法</li>
<li>与算术除法类似，但除法不错位，实际是“异或”操作<ul>
<li>异或操作</li>
<li>0 xor 0 = 0</li>
<li>0 xor 1 = 1</li>
<li>1 xor 0 = 1</li>
<li>1 xor 1 = 0</li>
<li><img src="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-10-14-at-10.51.48-AM.622jua94k8g0.png" srcset="/img/loading.gif" lazyload alt="模“2”除法"></li>
</ul>
</li>
</ul>
</li>
<li>具体操作<ul>
<li>选定一个用于校验的多项式 G(x), 并在数据尾部添加 r 个 0</li>
<li>将添加 r 个 0 后的数据，使用模“2”除法除以多项式的位串</li>
<li>得到的余数填充在原数据 r 个 0 的位置得到可校验的位串<br><img src="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-10-14-at-11.10.46-AM.7avoq98rzp80.png" srcset="/img/loading.gif" lazyload alt="循环冗余校验码CRC-1"><br><img src="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-10-14-at-11.13.26-AM.39suzj8cu7w0.png" srcset="/img/loading.gif" lazyload alt="循环冗余校验码CRC-2"><br>101001000 =&gt; 101001<strong>001</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="最大传输单元-MTU"><a href="#最大传输单元-MTU" class="headerlink" title="最大传输单元 MTU"></a>最大传输单元 MTU</h4><ul>
<li>MTU –&gt; 最大传输单元<ul>
<li>数据链路层的数据帧也不是无限大的(数据帧长度受 MTU 限制)</li>
<li>数据帧过长或过小都会影响传输的效率 (以太网 MTU 一般为 1500 字节)</li>
</ul>
</li>
<li>路径 MTU<br><img src="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-10-28-at-10.26.13-AM.dw0l58n12nk.png" srcset="/img/loading.gif" lazyload alt="路径MTU"></li>
</ul>
<h4 id="以太网协议讲解"><a href="#以太网协议讲解" class="headerlink" title="以太网协议讲解"></a>以太网协议讲解</h4><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs clean">                   |---&gt;设备C<br>设备A -----&gt;路由器-&gt;|<br>                   |---&gt;设备B<br>路由器怎么知道A要发给谁？<br></code></pre></td></tr></table></figure>

<ul>
<li><p>MAC 地址</p>
<ul>
<li>MAC 地址(物理地址、硬件地址)</li>
<li>每一个设备都拥有唯一的 MAC 地址(如何查看 MAC 地址呢？) -</li>
<li><img src="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-10-28-at-10.40.03-AM.26rz5cnw8uow.png" srcset="/img/loading.gif" lazyload alt="MAC"></li>
<li>MAC 地址共<code>48位</code>,使用十六进制表示</li>
<li>```<br>我的MAC地址：14:7d:da:a5:20:c8 –&gt; 4(16进制-&gt;4位) * 2 * 6(总共6组，每组2个)<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><br><span class="hljs-bullet">-</span> 以太网协议<br><span class="hljs-bullet">  -</span> 以太网是一种使用广泛的<span class="hljs-strong">**局域网**</span>技术<br><span class="hljs-bullet">  -</span> 以太网是一种应用于<span class="hljs-strong">**数据链路层**</span>的协议<br><span class="hljs-bullet">  -</span> 使用以太网可以完成相邻设备的<span class="hljs-strong">**数据帧**</span>传输<br><br></code></pre></td></tr></table></figure>
<pre><code>        以太网协议
</code></pre>
目的地址     源地址     类型     帧数据      CRC(校验码)<br>6(MAC地址)  6        2       45~1500      4<br>6表示6个字节       类型表示帧数据<br>1个字节8位       是什么类型的帧数据<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs awk"><br>MAC 地址表(是一个映射表)<br>![MAC地址表](https:<span class="hljs-regexp">//</span>cdn.jsdelivr.net<span class="hljs-regexp">/gh/</span>Bruce-shuai<span class="hljs-regexp">/picBed@master/</span>Screen-Shot-<span class="hljs-number">2021</span>-<span class="hljs-number">10</span>-<span class="hljs-number">28</span>-at-<span class="hljs-number">10.55</span>.<span class="hljs-number">11</span>-AM.<span class="hljs-number">3</span>bhpm4ldhac0.png)<br><br>MAC 地址表实质是路由器所拥有的!<br>![路由器实现原理](https:<span class="hljs-regexp">//</span>cdn.jsdelivr.net<span class="hljs-regexp">/gh/</span>Bruce-shuai<span class="hljs-regexp">/picBed@master/</span>Screen-Shot-<span class="hljs-number">2021</span>-<span class="hljs-number">10</span>-<span class="hljs-number">28</span>-at-<span class="hljs-number">11.00</span>.<span class="hljs-number">19</span>-AM.<span class="hljs-number">1</span>y9ghg39ruzk.png)<br><br>![路由器没找到MAC地址](https:<span class="hljs-regexp">//</span>cdn.jsdelivr.net<span class="hljs-regexp">/gh/</span>Bruce-shuai<span class="hljs-regexp">/picBed@master/</span>Screen-Shot-<span class="hljs-number">2021</span>-<span class="hljs-number">10</span>-<span class="hljs-number">28</span>-at-<span class="hljs-number">11.03</span>.<span class="hljs-number">21</span>-AM.<span class="hljs-number">64</span>kg5mwnjw80.png)<br><br>![路由器跨设备传输数据](https:<span class="hljs-regexp">//</span>cdn.jsdelivr.net<span class="hljs-regexp">/gh/</span>Bruce-shuai<span class="hljs-regexp">/picBed@master/</span>Screen-Shot-<span class="hljs-number">2021</span>-<span class="hljs-number">10</span>-<span class="hljs-number">28</span>-at-<span class="hljs-number">11.15</span>.<span class="hljs-number">44</span>-AM.<span class="hljs-number">5</span>x0sbfvsnow0.png)<br>--&gt; 需要学习网络层的内容才能解决跨设备传输数据问题<br><br><span class="hljs-comment">#### 网络层</span><br><br>注意：网络层是路由器最顶层的协议了...<br><br>&gt; 网络层 ---&gt; 数据路由(决定数据在网络的路径)<br><br>**数据链路层**只能解决相邻物理结点传输(比如：相邻的路由器与电脑)<br><br>**网络层**是可以解决大结点之间的数据传递的<br><br>路由器可以分为**家庭路由器**和**企业路由器**<br><br></code></pre></td></tr></table></figure>
网络层IP协议相关 –&gt;  IP协议  子网划分 简单路由过程<br> |<br>网络层其他协议   –&gt;  ARP协议与RARP协议 ICMP协议<br> |<br>IP的路由算法  –&gt;  路由的概述  内部网关路由协议   外部网关路由协议</li>
</ul>
</li>
</ul>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><br><span class="hljs-section">#### IP 协议讲解</span><br><br><span class="hljs-bullet">-</span> 虚拟互连网络<br><span class="hljs-bullet">  -</span> 实际的计算机网络是错综复杂的<br><span class="hljs-bullet">  -</span> 物理设备通过使用 IP 协议，屏蔽了物理网络之间的差异<br><span class="hljs-bullet">  -</span> 当网络中的主机使用 IP 协议连接时，则无需关注网络细节<br><span class="hljs-bullet">  -</span> 协议使得复杂的<span class="hljs-strong">**实际网络**</span>变为一个<span class="hljs-strong">**虚拟互连的网络**</span><br><span class="hljs-bullet">  -</span> IP 协议使得网络层可以屏蔽底层细节而专注网络层的数据转发<br><span class="hljs-bullet">  -</span> IP 协议<span class="hljs-strong">**解决了在虚拟网络中数据报传输路径的问题**</span><br><span class="hljs-bullet">-</span> IP 协议<br><br>ip 地址是每一个网络设备唯一的身份<br><br>MAC 地址：一直不变，刻在电脑硬件里的<br>IP 地址：电脑放在不同地方(星巴克、图书馆)，IP 地址会不一样(受网络环境的影响)<br><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-11-11-at-10.23.36-AM.png&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;300px&quot;</span>/&gt;</span></span><br><br><span class="hljs-bullet">-</span> IP 地址长度为 32 位，常分为 4 个 8 位<br><span class="hljs-bullet">-</span> IP 地址常使用<span class="hljs-strong">**点分十进制**</span>来表示(0~255.0~255.0~255.0~255)<br><br></code></pre></td></tr></table></figure>
<p>114.114.114.114<br>8.8.8.8<br>1.1.1.1<br>255.255.255.255</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-built_in"></span><br><span class="hljs-built_in">IP </span>地址共： 2^32 = 4294961296 (大约 42 亿个)<br><br>&lt;img <span class="hljs-attribute">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-11-11-at-10.28.26-AM.png&quot;</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">&quot;300px&quot;</span>/&gt;<br><br>&lt;img <span class="hljs-attribute">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-11-11-at-10.29.18-AM.png&quot;</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">&quot;300px&quot;</span> <span class="hljs-attribute">alt</span>=<span class="hljs-string">&quot;ip头部信息&quot;</span>/&gt;<br><br>版本: 占 4 位，指的是<span class="hljs-built_in"> IP </span>协议的版本，通信双方的版本**必须一致**，当前主流版本是 4，即 `IPv4`, 也有 `IPv6`<br>首部位长度：占 4 位，最大数值为 15，表示的是<span class="hljs-built_in"> IP </span>首部长度，单位是“32 位字”(4 个字节)，也即是<span class="hljs-built_in"> IP </span>首部最大长度为 60(15 \* 4) 字节<br>总长度：占 16 位，最大数值为 65535，表示的是<span class="hljs-built_in"> IP </span>数据报总长度(IP 首部+IP 数据)<br><br>TTL: 占 8 位，表明<span class="hljs-built_in"> IP </span>数据报文在网络中的寿命，每经过一个设备(包括路由器、计算机)，TTL 减 1，当 <span class="hljs-attribute">TTL</span>=0 时，网络设备必须丢弃该报文 --&gt; 避免网络报文在网络中无限的传输，消耗带宽<br><br>协议：占 8 位，表明<span class="hljs-built_in"> IP </span>数据所携带的具体数据是什么协议(如：TCP、UDP 等)<br><br></code></pre></td></tr></table></figure>
<p>协议名： ICMP | IGMP | IP | TCP | UDP<br>字段值：   1  |   2  |  4 |  6  | 17</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><br>首部检验和： 占 16 位，校验<span class="hljs-built_in"> IP </span>首部是否有出错<br><br>源<span class="hljs-built_in"> IP </span>地址<br><br>目的<span class="hljs-built_in"> IP </span>地址<br><br><span class="hljs-comment">#### IP 协议的转发流程</span><br><br>&lt;img <span class="hljs-attribute">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-11-11-at-10.45.43-AM.png&quot;</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">&quot;300px&quot;</span> <span class="hljs-attribute">alt</span>=<span class="hljs-string">&quot;逐跳&quot;</span> /&gt;<br>&lt;img <span class="hljs-attribute">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-11-11-at-10.47.59-AM.png&quot;</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">&quot;300px&quot;</span> <span class="hljs-attribute">alt</span>=<span class="hljs-string">&quot;路由表&quot;</span> /&gt;<br>&lt;img <span class="hljs-attribute">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-11-11-at-10.50.03-AM.png&quot;</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">&quot;300px&quot;</span> <span class="hljs-attribute">alt</span>=<span class="hljs-string">&quot;转发流程&quot;</span> /&gt;<br><br><span class="hljs-comment">#### ARP 协议与 RARP 协议</span><br><br><span class="hljs-comment">### 传输层</span><br><br>传输层 &lt;----&gt; 管理端到端的通信连接<br><br></code></pre></td></tr></table></figure>
<p>设备A  —&gt;  虚拟的互联网络 —&gt; 设备B<br>浏览器      进程与进程的通信     网站后台</p>
<figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs erlang"><br>- 使用端口<span class="hljs-params">(Port)</span>来标记不同的网络进程<br>- 端口<span class="hljs-params">(Port)</span>使用 16 比特位表示<span class="hljs-params">(<span class="hljs-number">0</span>~<span class="hljs-number">65535</span>)</span><br><br></code></pre></td></tr></table></figure>
<p>FTP | HTTP | HTTPS | DNS | TELNET<br> 21 |  80  |  443  |  53 |  23</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><br>&lt;img <span class="hljs-attribute">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-11-11-at-11.17.47-AM.png&quot;</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">&quot;300px&quot;</span> <span class="hljs-attribute">alt</span>=<span class="hljs-string">&quot;tcp&amp;udp&quot;</span>&gt;<br><br><span class="hljs-comment">#### UDP 协议详解</span><br><br>- UDP(用户数据报协议)<br>- UDP 是一个非常简单的协议<br><br> &lt;img <span class="hljs-attribute">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-11-11-at-11.21.16-AM.png&quot;</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">&quot;300px&quot;</span> <span class="hljs-attribute">alt</span>=<span class="hljs-string">&quot;udp协议详解&quot;</span>&gt;<br><br> &lt;img <span class="hljs-attribute">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-11-11-at-11.22.50-AM.png&quot;</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">&quot;300px&quot;</span> <span class="hljs-attribute">alt</span>=<span class="hljs-string">&quot;udp协议详解&quot;</span>&gt;<br><br>**UPD 首部**<br><br></code></pre></td></tr></table></figure>
<p>16位端口号   |  16位目的端口号<br>16位UDP长度     16位UDP校验和<br>        UDP数据</p>
<pre><code>
- UDP 是**无连接**协议(无连接：指机器进行通信前不需要建立连接)
- UDP 不能保证可靠的交付数据(&quot;想发就发&quot;, &quot;无法保证数据在网络中是否丢失&quot;)
- UDP 是面向报文传输的(应用层传来的数据 UDP 协议不会做任何的处理)
- UDP 没有**拥塞控制**(UDP 不会感知当前网络是否堵塞，想传数据就传数据)
- UDP 的首部开销很小

#### TCP 协议详解

- TCP(传输控制协议)
- TCP 协议是计算机网络中非常复杂的一个协议

![tcp](https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-11-18-at-10.18.54-AM.png)

- TCP 是面向连接的协议
- TCP 的一个连接有两端(点到点通信)
- TCP 提供可靠的传输服务
- TCP 协议提供全双工的通信(全双工：例如我和你打电话，我们可以同时说话)
- TCP 是面向字节流的协议(字节流：流(流入进程 流出进程))
  ![TCP协议头部](https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-11-18-at-10.31.15-AM.png)

* 序号： 0~2^32 - 1 (一个字节一个序号)
* 确认号： 0~2^32 - 1 (一个字节一个序号) (期望收到数据的首字节序号)
* 数据偏移： 占 4 位：0~15，单位为：32 位字
* TCP 标记： 占 6 位，每位各有不同意义 (重点)
  ![TCP标记](https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-11-18-at-10.39.47-AM.png)
* 窗口：占 16 位：0~2^16 - 1 (窗口指明允许对方发送的数据量)
* 紧急指针： 紧急数据(URG = 1) 指定紧急数据在报文的位置
* TCP 选项： 最多 40 字节 支持未来的拓展

##### 可靠传输的基本原理

- 停止等待协议

1. 无差错的情况
   ![停止等待协议](https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-11-18-at-10.52.58-AM.png)

2. 有差错的情况
   ![超时重传1](https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-11-18-at-10.55.05-AM.png)
   ![超时重传2](https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-11-18-at-10.55.59-AM.png)
   ![超时重传3](https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-11-18-at-10.57.35-AM.png)
   - 发送的消息在路上丢失了
   - 确认的消息在路上丢失了
   - 确认的消息很久才到
     都可以通过超时重传来保证可靠传输

- 超时定时器： 每发送一个消息，都需要设置一个定时器
- 停止等待协议是最简单的可靠传输协议
- 停止等待协议对信道的利用效率不高

* 连续 ARQ 协议
  - ARQ(自动重传请求)
    ![滑动窗口](https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/Screen-Shot-2021-11-18-at-11.06.41-AM.png)
  - 累计确认...

##### TCP 协议的可靠传输

- TCP 的可靠传输基于连续 ARQ 协议
- TCP 的滑动窗口以字节为单位
</code></pre>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2021/10/31/async-await/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">async/await</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2021/10/27/%E5%85%A8%E6%A0%88%E4%B9%8B%E8%B7%AF/">
                        <span class="hidden-mobile">全栈之路</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments" lazyload>
                
                  
                
                

              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
      <div class="col-lg-7 mx-auto nopadding-x-md">
        <div class="container custom mx-auto">
          <div style="display: flex"><img src="https://cdn.jsdelivr.net/gh/Bruce-shuai/picBed@master/footer_img2.ukcnbthf4fk.svg" srcset="/img/loading.gif" lazyload alt="" style="height: 200px; margin: 0 auto;"></div>
        </div>
      </div>
    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://juejin.cn/user/862446490487725" target="_blank" rel="nofollow noopener"><span>稀土掘金</span></a> <i class="iconfont icon-aixin" style="color: red;"></i> <a href="https://codesandbox.io/dashboard/home?workspace=3beb9911-b3bc-41d0-8b31-3fe9ca0f09d6" target="_blank" rel="nofollow noopener"><span>CodeSandbox</span></a> 
  </div>
  

  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  <script  src="/js/local-search.js" ></script>



  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  
    <script  src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js" ></script>
  
  
    <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" ></script>
  






  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>














  
<script src="/js/custom.js"></script>
<script src="//cdn.jsdelivr.net/gh/bynotes/texiao/source/js/daxuehua.js"></script>
<script src="//cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>
<script src="//cdn.jsdelivr.net/gh/metowolf/Metingjs@1.2/dist/Meting.min.js"></script>



<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"left","width":200,"height":350},"mobile":{"show":true},"react":{"opacity":0.9},"log":false});</script></body>
</html>
